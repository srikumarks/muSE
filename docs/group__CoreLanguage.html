<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>muSE: Core language</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">muSE
   &#160;<span id="projectnumber">r716</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Core language</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gafe37eeab6499fad4217060ce5a4f877a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CoreLanguage.html#gafe37eeab6499fad4217060ce5a4f877a">fn_quote</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="memdesc:gafe37eeab6499fad4217060ce5a4f877a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Quotes the given arguments without evaluating them.  <a href="#gafe37eeab6499fad4217060ce5a4f877a">More...</a><br /></td></tr>
<tr class="separator:gafe37eeab6499fad4217060ce5a4f877a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1e623d82c3760092bed48a770a82810e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CoreLanguage.html#ga1e623d82c3760092bed48a770a82810e">fn_lazy</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:ga1e623d82c3760092bed48a770a82810e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2be18cdd8e9b5effa7db161b9eb76e79"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CoreLanguage.html#ga2be18cdd8e9b5effa7db161b9eb76e79">fn_cons</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="memdesc:ga2be18cdd8e9b5effa7db161b9eb76e79"><td class="mdescLeft">&#160;</td><td class="mdescRight">(cons head tail).  <a href="#ga2be18cdd8e9b5effa7db161b9eb76e79">More...</a><br /></td></tr>
<tr class="separator:ga2be18cdd8e9b5effa7db161b9eb76e79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga19ac413fa1380edb7f27fe15535e601a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CoreLanguage.html#ga19ac413fa1380edb7f27fe15535e601a">fn_lcons</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="memdesc:ga19ac413fa1380edb7f27fe15535e601a"><td class="mdescLeft">&#160;</td><td class="mdescRight">(lcons a b)  <a href="#ga19ac413fa1380edb7f27fe15535e601a">More...</a><br /></td></tr>
<tr class="separator:ga19ac413fa1380edb7f27fe15535e601a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9cf0e1a4958ba27dfe9e7034c9ef82c2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CoreLanguage.html#ga9cf0e1a4958ba27dfe9e7034c9ef82c2">syntax_lambda</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:ga9cf0e1a4958ba27dfe9e7034c9ef82c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga67ccd77f0054444fdb753e246633c3ac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CoreLanguage.html#ga67ccd77f0054444fdb753e246633c3ac">syntax_block</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:ga67ccd77f0054444fdb753e246633c3ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga07873c5f51b927f2a082311753133246"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CoreLanguage.html#ga07873c5f51b927f2a082311753133246">syntax_generic_lambda</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="memdesc:ga07873c5f51b927f2a082311753133246"><td class="mdescLeft">&#160;</td><td class="mdescRight">(gfn formal-args body)  <a href="#ga07873c5f51b927f2a082311753133246">More...</a><br /></td></tr>
<tr class="separator:ga07873c5f51b927f2a082311753133246"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga359e49dd8a051f7d0173d4a76903f148"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CoreLanguage.html#ga359e49dd8a051f7d0173d4a76903f148">syntax_generic_block</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="memdesc:ga359e49dd8a051f7d0173d4a76903f148"><td class="mdescLeft">&#160;</td><td class="mdescRight">(gfn: formal-args body)  <a href="#ga359e49dd8a051f7d0173d4a76903f148">More...</a><br /></td></tr>
<tr class="separator:ga359e49dd8a051f7d0173d4a76903f148"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab6c0ebd6ea5e8da21c3777f49a447883"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CoreLanguage.html#gab6c0ebd6ea5e8da21c3777f49a447883">syntax_let</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="memdesc:gab6c0ebd6ea5e8da21c3777f49a447883"><td class="mdescLeft">&#160;</td><td class="mdescRight">(let &lt;variable-bindings&gt; &lt;body&gt;).  <a href="#gab6c0ebd6ea5e8da21c3777f49a447883">More...</a><br /></td></tr>
<tr class="separator:gab6c0ebd6ea5e8da21c3777f49a447883"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4901148b5ba91ad8ed499bba4a29cba6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CoreLanguage.html#ga4901148b5ba91ad8ed499bba4a29cba6">syntax_case</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="memdesc:ga4901148b5ba91ad8ed499bba4a29cba6"><td class="mdescLeft">&#160;</td><td class="mdescRight">(case object &lt;match-cases&gt;).  <a href="#ga4901148b5ba91ad8ed499bba4a29cba6">More...</a><br /></td></tr>
<tr class="separator:ga4901148b5ba91ad8ed499bba4a29cba6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5dea8b1344f0bdc417e49edc3b141a26"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CoreLanguage.html#ga5dea8b1344f0bdc417e49edc3b141a26">fn_apply</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="memdesc:ga5dea8b1344f0bdc417e49edc3b141a26"><td class="mdescLeft">&#160;</td><td class="mdescRight">(apply fn arglist).  <a href="#ga5dea8b1344f0bdc417e49edc3b141a26">More...</a><br /></td></tr>
<tr class="separator:ga5dea8b1344f0bdc417e49edc3b141a26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad24c9193561f7f211dd84ead7b1bb2d7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CoreLanguage.html#gad24c9193561f7f211dd84ead7b1bb2d7">fn_apply_w_keywords</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="memdesc:gad24c9193561f7f211dd84ead7b1bb2d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The counterpart of <a class="el" href="group__CoreLanguage.html#gad0d03da8eb6647a626931ffc97630ee2">call/keywords</a> that applies a function to an a-list of key-value pairs.  <a href="#gad24c9193561f7f211dd84ead7b1bb2d7">More...</a><br /></td></tr>
<tr class="separator:gad24c9193561f7f211dd84ead7b1bb2d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5e72687e00b876b8003ef9a071fa6fb6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CoreLanguage.html#ga5e72687e00b876b8003ef9a071fa6fb6">fn_eval</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:ga5e72687e00b876b8003ef9a071fa6fb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad0d03da8eb6647a626931ffc97630ee2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CoreLanguage.html#gad0d03da8eb6647a626931ffc97630ee2">fn_call_w_keywords</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:gad0d03da8eb6647a626931ffc97630ee2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafa85d1a4e5d4eaeea70cc2ee7b417926"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CoreLanguage.html#gafa85d1a4e5d4eaeea70cc2ee7b417926">fn_callcc</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:gafa85d1a4e5d4eaeea70cc2ee7b417926"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafa9459789c0e0f6f8b246aee3d73a536"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CoreLanguage.html#gafa9459789c0e0f6f8b246aee3d73a536">fn_the</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:gafa9459789c0e0f6f8b246aee3d73a536"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga539cb608b5308a696c25508168ad1a42"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CoreLanguage.html#ga539cb608b5308a696c25508168ad1a42">fn_meta</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="memdesc:ga539cb608b5308a696c25508168ad1a42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an object containing meta information about the given function.  <a href="#ga539cb608b5308a696c25508168ad1a42">More...</a><br /></td></tr>
<tr class="separator:ga539cb608b5308a696c25508168ad1a42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga387275a49329d5cb26fd3e7cde8b91af"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CoreLanguage.html#ga387275a49329d5cb26fd3e7cde8b91af">fn_trace</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:ga387275a49329d5cb26fd3e7cde8b91af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae40d359c2c4eba23134b5cc34d2ef2b5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CoreLanguage.html#gae40d359c2c4eba23134b5cc34d2ef2b5">fn_with_recent</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:gae40d359c2c4eba23134b5cc34d2ef2b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9c381cde5b3847666c95978df6d213f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CoreLanguage.html#ga9c381cde5b3847666c95978df6d213f5">fn_symbol_whose_value_is</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:ga9c381cde5b3847666c95978df6d213f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gafe37eeab6499fad4217060ce5a4f877a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_quote </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Quotes the given arguments without evaluating them. </p>
<p>For example, </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(quote . hello) </div></div><!-- fragment --><p> is identical to</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&#39;hello </div></div><!-- fragment --> 
<p>Referenced by <a class="el" href="group__MuseAPI.html#gabeda9f5d0bbf639140adb54c995e7108">muse_bind_copy_expr()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1e623d82c3760092bed48a770a82810e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_lazy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(lazy fn arg1 arg2 ...) </div></div><!-- fragment --><p>Delays the application of the given function to the given arguments. Each argument is itself evaluated right away before encapsulating the function call as a lazy application.</p>
<p>Since native function calls are not tail call optimized, you can use <a class="el" href="group__CoreLanguage.html#ga1e623d82c3760092bed48a770a82810e">lazy</a> to make a delayed tail call to the function.</p>
<p>For reading such an expression, think of the "lazy" as a tag that marks the remainder of the expression as lazy, rather than an operator applied to its arguments. The meaning of a (lazy f a1 a2 ..) expression is exactly the same as (f a1 a2 ...) except that the application is not performed immediately. Note that (lazy f) is the same as (f).</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__CoreLanguage.html#ga19ac413fa1380edb7f27fe15535e601a">lcons</a> </dd></dl>

<p>References <a class="el" href="group__MuseAPI.html#gaf4509f4d0b6b34c923ec1aa1aeda019e">muse_eval_list()</a>, and <a class="el" href="group__MuseAPI.html#ggab5b6d16681e25eaab89b93fad90b4727a83a817e9511e7086e5122f73e76851f2">MUSE_LAZY_CELL</a>.</p>

</div>
</div>
<a class="anchor" id="ga2be18cdd8e9b5effa7db161b9eb76e79"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_cons </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>(cons head tail). </p>
<p>Creates a new cons cell with the given head and tail. If no free cells are available, invokes the garbage collector and grows the heap if necessary. </p><dl class="section see"><dt>See also</dt><dd>_cons() </dd></dl>

<p>Referenced by <a class="el" href="group__PortIO.html#gabf61de100e833fe76ac7029b1f6d0230">fn_read_json()</a>.</p>

</div>
</div>
<a class="anchor" id="ga19ac413fa1380edb7f27fe15535e601a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_lcons </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>(lcons a b) </p>
<p>A "lazy" version of (cons a b) where the a and b are expressions that are not immediately evaluated. They'll be evaluated when their values are required - i.e. when you do a (first ...) or (rest ...) invocation on the resultant cons cell.</p>
<p>Any operation that accesses the head or tail of a lazy cons cell will force the evaluation. Such operations include printing out the list, calling nth, take, drop, etc.</p>
<p>For example - </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&gt; (define (numsfrom N) (lcons N (numsfrom (+ N 1))))</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;&gt; (take 10 (numsfrom 100))</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;(100 101 102 103 104 105 106 107 108 109)</div></div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__CoreLanguage.html#ga1e623d82c3760092bed48a770a82810e">lazy</a> </dd>
<dd>
<a class="el" href="group__CoreLanguage.html#ga2be18cdd8e9b5effa7db161b9eb76e79">cons</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga9cf0e1a4958ba27dfe9e7034c9ef82c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> syntax_lambda </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(fn formal-args ...body...) </div></div><!-- fragment --><p> Common syntax - </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(fn (x1 x2 ... xN)</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;  expr1</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;  expr2</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;  ...</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;  result-expr)</div></div><!-- fragment --><p><code>fn</code> creates a closure when it is executed. A closure is a copy of the body of the lambda with all non-parameter variables bound to their current values. If an undefined symbol (free variable) is used in the body, it will simply evaluate to itself. Once the symbol is defined after the creation of the closure, the defined value will take the place of the symbol in the closure.</p>
<p>For example - </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(define norm3 (fn (x y z) (sqrt (+ (* x x) (* y y) (* z z)))))</div></div><!-- fragment --><p> defines the symbol <code>norm3</code> to be a function that computes the norm (i.e. vector-length) of a 3-vector. You use the function in expressions like the following - </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(norm3 3 4 0)</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;(norm3 10 20 30)</div></div><!-- fragment --><p>Binding formals -</p>
<p>Argments to a function are given as a list. Therefore a function may accept a variable number of arguments, computing different (but hopefully related) values in the different cases. The mechanism using which a function accesses its entire argument list is more general than purely for that case, though.</p>
<p>The arguments to the <code>norm3</code> function in the above examples may be considered to be lists like</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(10 20 30) </div></div><!-- fragment --><p>. In order to obtain the argument list, simply drop the function position. It is now easy to see that the formal argument pattern</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(x y z) </div></div><!-- fragment --><p> is similar to the given argument list and a one-to-one mapping can be established between the symbols <code>x</code>, <code>y</code> and  z in the formals list and the values in the arguments list. This is how the matching and binding is done.</p>
<p>In order to illustrate the matching method, let us write the <code>norm3</code> argument list in its canonical form - as </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(10 . (20 . (30 . ()))) </div></div><!-- fragment --><p>. The formals pattern can also be written in such a canonical form - as</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(x . (y . (z . ()))) </div></div><!-- fragment --><p>.</p>
<dl class="section note"><dt>Note</dt><dd>The binder lets a symbol to be bound to either the head or the tail of any cons cell in the argument list. Anything other than a symbol in the formals pattern must match the argument position exactly.</dd></dl>
<p>Therefore if you simply use one symbol as the formals specification (ex: <code>args</code>), it will be bound to the entire argument list. If you use a pattern like</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(x . xs) </div></div><!-- fragment --><p>, <code>x</code> will be bound to the first argument <code>10</code> and <code>xs</code> will be bound to the first cons cell's tail, i.e. the list</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(20 30) </div></div><!-- fragment --><p>. It is valid for a symbol to be bound to <code></code>(), but it is not valid to deconstruct a <code></code>() value and assign its components to symbols. i.e. <code></code>() will not match against <code>(x . xs)</code> but will match against <code>xs</code>.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__MuseAPI.html#gac34ad12b2450d044003eb827c1fefd3b" title="Binds the symbols in the given formals list to the corresponding values in the args list...">muse_bind_formals()</a> </dd>
<dd>
<a class="el" href="group__CoreLanguage.html#gab6c0ebd6ea5e8da21c3777f49a447883" title="(let &lt;variable-bindings&gt; &lt;body&gt;). ">syntax_let</a> </dd>
<dd>
<a class="el" href="group__CoreLanguage.html#ga4901148b5ba91ad8ed499bba4a29cba6" title="(case object &lt;match-cases&gt;). ">syntax_case</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga67ccd77f0054444fdb753e246633c3ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> syntax_block </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(fn: (arg1 arg2 ...) ...body...) </div></div><!-- fragment --><p>Very similar to <a class="el" href="group__CoreLanguage.html#ga9cf0e1a4958ba27dfe9e7034c9ef82c2">syntax_lambda</a>, except that it doesn't create a closure. All the free variables in the block (i.e. those except the given arguments) are expected to be bound by the environment in which the block is invoked. Otherwise a block is identical to <a class="el" href="group__CoreLanguage.html#ga9cf0e1a4958ba27dfe9e7034c9ef82c2">syntax_lambda</a> and can be used in all places a closure can be used.</p>
<p>In particular, a block is effective with call/cc to specify jump out points such as exceptions and loop breaks. A normal closure can be used as well, but the closure will be repeatedly created every time the call/cc expression is evaluated.</p>
<p>Creating a block is extremely cheap compared to creating a closure using <a class="el" href="group__CoreLanguage.html#ga9cf0e1a4958ba27dfe9e7034c9ef82c2">syntax_lambda</a>. As a thumb rule, blocks are equivalent to closures when they are consumed within the scope of their declaration - as in the following example - </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(map (fn: (x) (* x 2)) &#39;(1 2 3 4 5))</div></div><!-- fragment --><p> The above code evaluates to the list </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(2 4 6 8 10)</div></div><!-- fragment --><p> and <code>fn:</code> in this case is equivalent to using <code>fn</code>.</p>
<p>If you define a symbol to a block, then you need to be careful, because the value of any free variables (non-local) used within the block can be redefined outside the block. For example - </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(define y 2)</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;(define double (fn: (x) (* x y)))</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;(double 3)</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    -&gt; 6</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;(double 5)</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    -&gt; 10</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;(define y 3)</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;(double 3)</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    -&gt; 9</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;(define y 100)</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;(double 3)</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    -&gt; 300</div></div><!-- fragment --><p> whereas the same sequence with "fn" instead will be - </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(define y 2)</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;(define double (fn (x) (* x y)))</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;(double 3)</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    -&gt; 6</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;(double 5)</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    -&gt; 10</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;(define y 3)</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;(double 3)</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    -&gt; 6</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;(define y 100)</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;(double 3)</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    -&gt; 6</div></div><!-- fragment --><p> because <code>fn</code> "captures" the value of y at the time it is invoked to create a closure. It is the closure thus created which is bound to the symbol "double". </p>

<p>References <a class="el" href="group__MuseAPI.html#ggab5b6d16681e25eaab89b93fad90b4727a1f9900717ca0e77e7b094a23939841d0">MUSE_CONS_CELL</a>, <a class="el" href="group__MuseAPI.html#ggab5b6d16681e25eaab89b93fad90b4727abb8f2ec3d6f4c99b231634b1d0b43b11">MUSE_LAMBDA_CELL</a>, and <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>.</p>

<p>Referenced by <a class="el" href="group__MuseAPI.html#gabeda9f5d0bbf639140adb54c995e7108">muse_bind_copy_expr()</a>, and <a class="el" href="group__CoreLanguage.html#ga359e49dd8a051f7d0173d4a76903f148">syntax_generic_block()</a>.</p>

</div>
</div>
<a class="anchor" id="ga07873c5f51b927f2a082311753133246"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> syntax_generic_lambda </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>(gfn formal-args body) </p>
<p><code>gfn</code> creates a generic function that can be extended or overridden using <a class="el" href="group__CellManipulation.html#gad54a8bbc735ea9557b905150a847d3a1">define-extension</a> and <a class="el" href="group__CellManipulation.html#ga809d407c00fbc3b499e82276a49c5bbd">define-override</a>. You can define generic functions as well as macros.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__CoreLanguage.html#ga359e49dd8a051f7d0173d4a76903f148">gfn:</a> </dd></dl>

<p>References <a class="el" href="group__CoreLanguage.html#ga9cf0e1a4958ba27dfe9e7034c9ef82c2">syntax_lambda()</a>.</p>

<p>Referenced by <a class="el" href="group__MuseAPI.html#gabeda9f5d0bbf639140adb54c995e7108">muse_bind_copy_expr()</a>.</p>

</div>
</div>
<a class="anchor" id="ga359e49dd8a051f7d0173d4a76903f148"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> syntax_generic_block </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>(gfn: formal-args body) </p>
<p><code>gfn:</code> creates a generic function that can be extended or overridden using <a class="el" href="group__CellManipulation.html#gad54a8bbc735ea9557b905150a847d3a1">define-extension</a> and <a class="el" href="group__CellManipulation.html#ga809d407c00fbc3b499e82276a49c5bbd">define-override</a>. This version is similar to <a class="el" href="group__CoreLanguage.html#ga07873c5f51b927f2a082311753133246">gfn</a>, but uses dynamic scoping in its body.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__CoreLanguage.html#ga07873c5f51b927f2a082311753133246">gfn</a> </dd></dl>

<p>References <a class="el" href="group__CoreLanguage.html#ga67ccd77f0054444fdb753e246633c3ac">syntax_block()</a>.</p>

<p>Referenced by <a class="el" href="group__MuseAPI.html#gabeda9f5d0bbf639140adb54c995e7108">muse_bind_copy_expr()</a>.</p>

</div>
</div>
<a class="anchor" id="gab6c0ebd6ea5e8da21c3777f49a447883"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> syntax_let </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>(let &lt;variable-bindings&gt; &lt;body&gt;). </p>
<p>Syntax - </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(let ((pattern1 value1)</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;      (pattern2 value2)</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;      ...</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;      (patternN valueN))</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;  expr1</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;  expr2</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;  ...</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;  result-expr)</div></div><!-- fragment --><p><code>let</code> introduces local variables bound to the results of given expressions in the context of a block of code. For example, an expression to compute the distance between two points (x1,y1) and (x2,y2) can be written as - </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(let ((dx (- x2 x1))</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;      (dy (- y2 y1)))</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;  (print &quot;Computing distance between two points ...&quot;)</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;  (sqrt (* dx dx) (* dy dy)))</div></div><!-- fragment --><p> The above code introduces the symbols <code>dx</code> and <code>dy</code> bound to <code>x2-x1</code> and <code>y2-y1</code> respectively, in the expression <code>(sqrt (* dx dx) (* dy dy))</code>.</p>
<p>The result of the let expression is the result of the last expression in the body. In the above example, the last statement computes the <code>sqrt</code>.</p>
<p>The variable binding scheme in <code>let</code> is exactly the same as the argument binding scheme for lambdas. This means, you can decompose lists using let expressions as follows - </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(let (((x y . xs) things))</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;   (print &quot;x = &quot; x &quot;, y = &quot; y &quot;, and the rest are &quot; xs))</div></div><!-- fragment --><p> If <code>things</code> is the list <code>(1 2 3 4)</code>, the above expression will print </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;x = 1, y = 2, and the rest are (3 4)</div></div><!-- fragment --><p>If any of the binding operations failed, the let block is not evaluated and the result is <code></code>().</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__MuseAPI.html#gac34ad12b2450d044003eb827c1fefd3b" title="Binds the symbols in the given formals list to the corresponding values in the args list...">muse_bind_formals()</a> </dd>
<dd>
<a class="el" href="group__CoreLanguage.html#ga9cf0e1a4958ba27dfe9e7034c9ef82c2">syntax_lambda</a> </dd>
<dd>
<a class="el" href="group__CoreLanguage.html#ga4901148b5ba91ad8ed499bba4a29cba6" title="(case object &lt;match-cases&gt;). ">syntax_case</a> </dd></dl>

<p>References <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>.</p>

<p>Referenced by <a class="el" href="group__MuseAPI.html#gabeda9f5d0bbf639140adb54c995e7108">muse_bind_copy_expr()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4901148b5ba91ad8ed499bba4a29cba6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> syntax_case </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>(case object &lt;match-cases&gt;). </p>
<p>Syntax - </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(case object</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;      (match-expr1 result1)</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;      (match-expr2 result2)</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;      ...</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;      (T else-result))</div></div><!-- fragment --><p> Like <code>switch</code> in C, but way more expressive. The result of a <code>case</code> expression is the result corresponding to the <code>match-expr</code> that succeeded in a match-bind operation against the given <code>object</code>.</p>
<p>In the simplest case, when <code>object</code> is a symbol, you can use <code>case</code> like <code>switch</code> as follows - </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(case object</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;      (&#39;one &quot;One a penny&quot;)</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;      (&#39;two &quot;Two a penny&quot;)</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;      (&#39;what &quot;Hot cross buns&quot;))</div></div><!-- fragment --><p>The match expressions are not limited to constants and are basically the same as the binding expressions for <code>let</code> or <code>lambda</code>. For example, here is a <code>case</code> expression to print the head of a list - </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(case list-object</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;      ((x . xs) (print &quot;Head of &quot; list-object &quot; is &quot; x &quot;.&quot;))</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;      (() (print &quot;Cannot take head of the empty list!&quot;)))</div></div><!-- fragment --><p> In the above code, the first match expression <code>(x . xs)</code> is bound against the given <code>list-object</code>. If <code>list-object</code> is a non-empty list, this bind operation will succeed and <code>x</code> will be bound to the head of the list and <code>xs</code> will be bound to the tail of the list. The second match expression is the empty list which will succeed in matching against another empty list only. So if <code>list-object</code> is the empty list, then the second print statement will be evaluated.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__MuseAPI.html#gac34ad12b2450d044003eb827c1fefd3b" title="Binds the symbols in the given formals list to the corresponding values in the args list...">muse_bind_formals()</a> </dd>
<dd>
<a class="el" href="group__CoreLanguage.html#ga9cf0e1a4958ba27dfe9e7034c9ef82c2">syntax_lambda</a> </dd>
<dd>
<a class="el" href="group__CoreLanguage.html#gab6c0ebd6ea5e8da21c3777f49a447883" title="(let &lt;variable-bindings&gt; &lt;body&gt;). ">syntax_let</a> </dd></dl>

<p>References <a class="el" href="group__Processes__impl.html#gae1d9b98957a7cd29cb28b74deab5a41a">muse_add_recent_item()</a>, <a class="el" href="group__MuseAPI.html#gabeda9f5d0bbf639140adb54c995e7108">muse_bind_copy_expr()</a>, <a class="el" href="group__MuseAPI.html#gac34ad12b2450d044003eb827c1fefd3b">muse_bind_formals()</a>, <a class="el" href="group__MuseAPI.html#ggab5b6d16681e25eaab89b93fad90b4727a1f9900717ca0e77e7b094a23939841d0">MUSE_CONS_CELL</a>, <a class="el" href="group__MuseAPI.html#gab5e6a451ef32fe1317f3d5eb6fef5cc0">muse_expect()</a>, <a class="el" href="group__MuseAPI.html#ggab5b6d16681e25eaab89b93fad90b4727a83a817e9511e7086e5122f73e76851f2">MUSE_LAZY_CELL</a>, <a class="el" href="group__MuseAPI.html#gafa6f83554ab1865d2df3bb642b399b66">muse_message()</a>, <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>, and <a class="el" href="group__CoreLanguage.html#ga4901148b5ba91ad8ed499bba4a29cba6">syntax_case()</a>.</p>

<p>Referenced by <a class="el" href="group__MuseAPI.html#gabeda9f5d0bbf639140adb54c995e7108">muse_bind_copy_expr()</a>, and <a class="el" href="group__CoreLanguage.html#ga4901148b5ba91ad8ed499bba4a29cba6">syntax_case()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5dea8b1344f0bdc417e49edc3b141a26"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_apply </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>(apply fn arglist). </p>
<p>Equivalent to</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(eval (cons fn arglist)) </div></div><!-- fragment --><p>. The <code>apply</code> function lets you apply the given function to the given argument list, both of which may be values of other expressions.</p>
<p>For example - </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(define one-to-ten &#39;(1 2 3 4 5 6 7 8 9 10))</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;(print (apply + one-to-ten))</div></div><!-- fragment --><p>The above code will print the sum of numbers from 1 to 10, and is equivalent to</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(print (+ 1 2 3 4 5 6 7 8 9 10)) </div></div><!-- fragment --><p>. </p>

<p>References <a class="el" href="group__MuseAPI.html#gab5e6a451ef32fe1317f3d5eb6fef5cc0">muse_expect()</a>, and <a class="el" href="group__MuseAPI.html#ggab5b6d16681e25eaab89b93fad90b4727aac36b25578762b2a3304acfafa7a74bf">MUSE_SYMBOL_CELL</a>.</p>

</div>
</div>
<a class="anchor" id="gad24c9193561f7f211dd84ead7b1bb2d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_apply_w_keywords </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The counterpart of <a class="el" href="group__CoreLanguage.html#gad0d03da8eb6647a626931ffc97630ee2">call/keywords</a> that applies a function to an a-list of key-value pairs. </p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(define f (fn (x y) (if (&lt; x y) x y)))</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;(define args &#39;((x . 15) (y . 30)))</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;(apply/keywords f args)</div></div><!-- fragment --><p> will evaluate to <code>15</code>. </p>

<p>References <a class="el" href="group__MuseAPI.html#gac34ad12b2450d044003eb827c1fefd3b">muse_bind_formals()</a>, <a class="el" href="group__MuseAPI.html#ggab5b6d16681e25eaab89b93fad90b4727abb8f2ec3d6f4c99b231634b1d0b43b11">MUSE_LAMBDA_CELL</a>, <a class="el" href="group__MuseAPI.html#gafa6f83554ab1865d2df3bb642b399b66">muse_message()</a>, <a class="el" href="group__MuseAPI.html#ggab5b6d16681e25eaab89b93fad90b4727adda7db0e96c4d555efd6c404997d1929">MUSE_NATIVEFN_CELL</a>, <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>, and <a class="el" href="group__Processes__impl.html#ga778eeb854f94e5daa8bc9f45e6f181d5">yield_process()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5e72687e00b876b8003ef9a071fa6fb6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_eval </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(eval s-expr) </div></div><!-- fragment --><p> Evaluates the given single s-expression and returns the result. For example,</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(eval &#39;(+ 2 3)) </div></div><!-- fragment --><p> will result in <code>5</code>. In this sense, <code>eval</code> is the counter part of <code>quote</code>. </p>

<p>References <a class="el" href="group__MuseAPI.html#gaa1aa2951f816f09aa3b1ee8aa75ad47e">muse_eval()</a>.</p>

</div>
</div>
<a class="anchor" id="gad0d03da8eb6647a626931ffc97630ee2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_call_w_keywords </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(call/keywords f &#39;key1 val1 &#39;key2 val2 ...) </div></div><!-- fragment --><p><code>f</code> is a user defined function (non-native) that has a bunch of named arguments. You can supply values to those named arguments in another order compared to what it was declared with. For example - </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(define f (fn (x y) (if (&lt; x y) x y)))</div></div><!-- fragment --><p> defines the minimum function. You can call this function as follows - </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(call/keywords f &#39;y 15 &#39;x 3)</div></div><!-- fragment --><p> to get <code>3</code> as the answer. Note that all arguments <b>must</b> be specified for the result to make sense. That condition is not checked for. Note that the symbol positions are</p>
<p>Note that although it makes sense to specify all arguments without exception, the behaviour is such that arguments which are unspecified take on the value of the symbol at invocation time. This means you can introduce "default" values using <a class="el" href="group__CoreLanguage.html#gab6c0ebd6ea5e8da21c3777f49a447883">let</a> blocks. For example - </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(let ((x 15)) (call/keywords f &#39;y 30))</div></div><!-- fragment --><p> will produce <code>15</code> as the answer. In this sense, </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(call/keywords f &#39;x 15 &#39;y 30) </div></div><!-- fragment --><p> is equivalent to </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(let ((x 15) (y 30)) (call/keywords f)) </div></div><!-- fragment --><p>. This gives you yet another kind of dynamic scoping behaviour.</p>
<p>If you want to know the function's formal argument list at any time, you can evaluate</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(first f) </div></div><!-- fragment --><p>.</p>
<p>If <code>f</code> is a macro function - i.e. it requires its arguments in an unevaluated form - the expressions in place of values are used without being first evaulated. Note that the symbol positions are always evaluated. </p>

<p>References <a class="el" href="group__MuseAPI.html#gab5e6a451ef32fe1317f3d5eb6fef5cc0">muse_expect()</a>, <a class="el" href="group__MuseAPI.html#ggab5b6d16681e25eaab89b93fad90b4727abb8f2ec3d6f4c99b231634b1d0b43b11">MUSE_LAMBDA_CELL</a>, <a class="el" href="group__MuseAPI.html#gafa6f83554ab1865d2df3bb642b399b66">muse_message()</a>, <a class="el" href="group__MuseAPI.html#ggab5b6d16681e25eaab89b93fad90b4727adda7db0e96c4d555efd6c404997d1929">MUSE_NATIVEFN_CELL</a>, <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>, <a class="el" href="group__MuseAPI.html#ggab5b6d16681e25eaab89b93fad90b4727aac36b25578762b2a3304acfafa7a74bf">MUSE_SYMBOL_CELL</a>, and <a class="el" href="group__Processes__impl.html#ga778eeb854f94e5daa8bc9f45e6f181d5">yield_process()</a>.</p>

</div>
</div>
<a class="anchor" id="gafa85d1a4e5d4eaeea70cc2ee7b417926"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_callcc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(call/cc (fn (k) ... (k result) ...)) </div></div><!-- fragment --><p>Abbreviation for "call with current continuation", call/cc is an implementation of the scheme recommendation for continuation support. The first and only argument to call/cc is expected to be a function that takes a single argument called the continuation. call/cc will then call this function, supplying the current continuation as the argument.</p>
<p>A brief intro to continuations follows. When evaluating a sub-expression of any expression, the remainder of the computation may be thought of as a function that expects the result of the sub-expression evaluation. This "remainder of the computation" function w.r.t. the specific sub-expression is called the "continuation" at that point in the evaluation process.</p>
<p>The whole expression may be rewritten as a call to this continuation function with the argument as the result of the sub-expression under consideration. Note that the continuation function does not return a value to the context in which it is called. Instead, it "breaks out" of the context and pretends as though the result of the sub-expression is the argument supplied to the continuation function at invocation time.</p>
<p>Its time for an example - what'll the following code print? .. and then, what'll it print when <code>bomb</code> is defined to <code>T</code> instead? </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(define bomb ())</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;(print (+ 1 2 (call/cc (fn (k)</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;                         (print &quot;before\n&quot;)</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;                         (if bomb (k 0))</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;                         (print &quot;after\n&quot;)</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;                         3))</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;         4 5))</div></div><!-- fragment --><p>When <code>bomb</code> is <code></code>(), the</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(k 0) </div></div><!-- fragment --><p> part is not evaluated due to the if condition failing. Therefore the output will be - </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;before</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;after</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;15</div></div><!-- fragment --><p>When <code>bomb</code> is changed to <code>T</code>, the if block will kick in and</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(k 3) </div></div><!-- fragment --><p> will be evaluated. But since continuation functions do not return to te point of invocation, but to the point of the <code>call/cc</code> which captured them, the</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(print &quot;after\n&quot;) </div></div><!-- fragment --><p> expression never gets evaluated and the result of the <code>call/cc</code> block is not <code>3</code> as one would expect, but <code>0</code>, because that's the argument given to the continuation function when it is invoked! So you'll get </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;before</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;12</div></div><!-- fragment --><p> as the result printed to the screen. Note that we know that the continuation invocation did not return to its invocation point because the expression</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(print &quot;after\n&quot;) </div></div><!-- fragment --><p> did not get evaluated.</p>
<p>Continuations are rather powerful. The can be used to implement language constructs such as -</p><ol type="1">
<li>try-catch style exception handling,</li>
<li>breaking out of loops.</li>
<li>suspend and resume mechanism.</li>
</ol>
<p>In general, it should be possible to store away the continuation function for future invocation. Early on in muSE's development, only a limited implementation of call/cc was put in in order to support breaking out of loops. Later on a full implementation of continuations was added. Now, you can store away the continuation function in a variable and invoke it as many times as you need to, because the continuation captures a complete snapshot of the execution environment at the time it is created.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>The current implementation of call/cc seems to be working properly on Windows + Intel, but doesn't work correctly on PowerPC. Needs investigation. </dd></dl>

<p>References <a class="el" href="group__MuseAPI.html#ga6a75adf7f34c0b6517eba3e1875b9b52">muse_apply()</a>, <a class="el" href="group__MuseAPI.html#gac34ad12b2450d044003eb827c1fefd3b">muse_bind_formals()</a>, <a class="el" href="group__MuseAPI.html#gad84084cc071a870205797edc9d7e979a">muse_builtin_symbol()</a>, <a class="el" href="group__MuseAPI.html#ggab5b6d16681e25eaab89b93fad90b4727a1f9900717ca0e77e7b094a23939841d0">MUSE_CONS_CELL</a>, <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a66c81830cf885eda1c18558943bacc83">MUSE_DEFAULT_EXCEPTION_HANDLER</a>, <a class="el" href="group__MuseAPI.html#ga12d87a65744beb9adf93d98a8a2c69ea">muse_doing_gc()</a>, <a class="el" href="group__MuseAPI.html#gaf4509f4d0b6b34c923ec1aa1aeda019e">muse_eval_list()</a>, <a class="el" href="group__MuseAPI.html#ga2044bdd35a0807600b7f20fb0b40a35d">muse_find_list_element()</a>, <a class="el" href="group__MuseAPI.html#ggab5b6d16681e25eaab89b93fad90b4727abb8f2ec3d6f4c99b231634b1d0b43b11">MUSE_LAMBDA_CELL</a>, <a class="el" href="group__MuseAPI.html#ga5122f5b56366a53197251b3e5955cbd7">muse_mark()</a>, <a class="el" href="group__MuseAPI.html#gafa6f83554ab1865d2df3bb642b399b66">muse_message()</a>, <a class="el" href="group__MuseAPI.html#ggab5b6d16681e25eaab89b93fad90b4727adda7db0e96c4d555efd6c404997d1929">MUSE_NATIVEFN_CELL</a>, <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>, <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a26eb42e571e76279d067c18026a281dc">MUSE_TRAP_POINT</a>, <a class="el" href="group__Processes__impl.html#gab97662753a5bcc8a303d3bcbf4548f35">process_id()</a>, <a class="el" href="struct__muse__process__frame__t.html#ae57ba06f4b682584ece9919e0db41473">_muse_process_frame_t::recent</a>, and <a class="el" href="group__Processes__impl.html#ga9735d3f457ead63c447d5cc2db8cbdef">remove_process()</a>.</p>

</div>
</div>
<a class="anchor" id="gafa9459789c0e0f6f8b246aee3d73a536"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_the </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(the recent-key) </div></div><!-- fragment --><p>Looks up the given recent-key to access the result of a recently done computation. Some builtin functions add their results to the recent list as do all user-defined functions. The recent list length is 8. This roughly matches the level at which readability begin to suffer instead of improving.</p>
<p>Here is a trivial example for illustration - a function that computes (a+b)/(a-b). </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&gt; (define (add a b) (+ a b))</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;&gt; (define (sub a b) (- a b))</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;&gt; (define (h a b)</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;   (add a b)</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;   (sub a b)</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;   (/ (the add) (the sub)))</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;&gt; (h 5 2)</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;2.333333</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;&gt; (the h)</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;2.333333</div></div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>The <code>add</code> and <code>sub</code> recent results are not accessible to the caller of <code>h</code>. Evaluating<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(the add) </div></div><!-- fragment --> after evaluating <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(h 5 2) </div></div><!-- fragment --> will result in a "recent item not found" message box. This is a very important property of <code>the</code> - its ability to restrict the scope of the recent computations to the scope of user defined functions so that callers can access the results of <em>their</em> function evaluations rather than those made by the functions they evaluate.</dd></dl>
<p>Here is another contrived one - </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(if (find x some-list)</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;   (length (the find))</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;   (raise &#39;FindFailed x))</div></div><!-- fragment --><p> The above example is clearer using <code>the</code> and without it, you might have to write - </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(let ((result (find x some-list)))</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;   (if result </div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;      (length result)</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;      (raise &#39;FindFailed x)))</div></div><!-- fragment --><p> which introduces a new name <code>result</code> into the code, besides adding a level of nesting for the purpose. The <code>the</code> primitive therefore reduces the need to introduce new temporary names into the code by allowing you to refer to recent computation results using the function that computed it as the key. As in the trivial </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(h a b) </div></div><!-- fragment --><p> example above, it allows you to reduce the level of nesting as well.</p>
<dl class="section user"><dt><code>the</code> and <code>it</code> </dt><dd>Within a given scope, the reserved symbol "it" can be used to refer to the most recently evaluated "the" expression. "it" will refer to the most recent "the" expression even if that result has been forgotten in the recent list and can no longer be obtained by re-evaluating the "the" expression. Here's an example - <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(if (find x some-list)</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;   (if (&gt;= (length (the find)) 3)</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;      (print it)</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;      (print (the length) &quot;is too short because&quot; it &quot;is less than 3.&quot;))</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;   (raise &#39;FindFailed x))</div></div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Builtins that support <code>the</code> -</dt><dd><ul>
<li>length, map, join, collect, reduce,</li>
<li>find, andmap, ormap</li>
<li>transpose</li>
<li>vector, hashtable, list</li>
<li>read, read-bytes, read-xml</li>
<li>open-file </li>
</ul>
</dd></dl>

<p>References <a class="el" href="group__Processes__impl.html#ga578f2b216d65fa7113ea43c880c5cc8a">muse_find_recent_item()</a>, <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a19c118a030d543c837a7e258fd4c3d10">MUSE_IT</a>, <a class="el" href="group__MuseAPI.html#gafa6f83554ab1865d2df3bb642b399b66">muse_message()</a>, <a class="el" href="group__MuseAPI.html#ggab5b6d16681e25eaab89b93fad90b4727adda7db0e96c4d555efd6c404997d1929">MUSE_NATIVEFN_CELL</a>, and <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>.</p>

</div>
</div>
<a class="anchor" id="ga539cb608b5308a696c25508168ad1a42"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_meta </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns an object containing meta information about the given function. </p>
<p>Even closures have meta information. </p>

<p>References <a class="el" href="struct__muse__process__frame__t.html#a4a3b42a7233ce95cbd71954f656247ed">_muse_process_frame_t::bindings_stack</a>, <a class="el" href="structmuse__stack.html#add94a33318ff2553bb51987f5eadb8cb">muse_stack::bottom</a>, <a class="el" href="group__MuseAPI.html#gac34ad12b2450d044003eb827c1fefd3b">muse_bind_formals()</a>, <a class="el" href="group__MuseAPI.html#ggab5b6d16681e25eaab89b93fad90b4727abb8f2ec3d6f4c99b231634b1d0b43b11">MUSE_LAMBDA_CELL</a>, <a class="el" href="group__MuseAPI.html#ga5b629b0a129f6b978513113a4c97909d">muse_list_append()</a>, <a class="el" href="group__MuseAPI.html#gafa6f83554ab1865d2df3bb642b399b66">muse_message()</a>, <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>, <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a82c647706a7abae912199953f918f166">MUSE_SELF</a>, <a class="el" href="group__MuseAPI.html#ggab5b6d16681e25eaab89b93fad90b4727aac36b25578762b2a3304acfafa7a74bf">MUSE_SYMBOL_CELL</a>, <a class="el" href="group__CoreLanguage.html#ga9cf0e1a4958ba27dfe9e7034c9ef82c2">syntax_lambda()</a>, and <a class="el" href="structmuse__stack.html#ada58e6fc4909d6089ab02b952393325b">muse_stack::top</a>.</p>

</div>
</div>
<a class="anchor" id="ga387275a49329d5cb26fd3e7cde8b91af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_trace </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(trace on) or (trace off) </div></div><!-- fragment --> 
<p>References <a class="el" href="group__MuseAPI.html#gga99a6fcb4727b48a74b6ad1f9d821381eaf0443e929a988a6a7023a6fa07da709a">MUSE_ENABLE_TRACE</a>, <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>, and <a class="el" href="muse__builtins_8c.html#ad6877361b31941d0391cf915a4b64dd6">muse_shell_execute</a>.</p>

</div>
</div>
<a class="anchor" id="gae40d359c2c4eba23134b5cc34d2ef2b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_with_recent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(with-recent (fn (...) ... (the thing1) ... it ...)) </div></div><!-- fragment --><p>Converts the function generated by the (fn ...) expression so that its body can close on recent values in the context in which the closure is being created.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>Infer the use of with-recent depending on the usage pattern of the and it within the body of the function itself. Its quite complicated to do. </dd></dl>

<p>References <a class="el" href="group__MuseAPI.html#gad5b7765e08e37993d41ec6128055fb10">muse_do()</a>, <a class="el" href="group__MuseAPI.html#ggab5b6d16681e25eaab89b93fad90b4727abb8f2ec3d6f4c99b231634b1d0b43b11">MUSE_LAMBDA_CELL</a>, <a class="el" href="group__MuseAPI.html#ga46ffbd092a8da85372d8d623f33ae47c">muse_mk_functional_object()</a>, and <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>.</p>

</div>
</div>
<a class="anchor" id="ga9c381cde5b3847666c95978df6d213f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_symbol_whose_value_is </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(symbol-whose-value-is value) </div></div><!-- fragment --><p>Looks up the symbol table and gives the symbol which is currently (in dynamic scope) defined to the given value. </p>

<p>References <a class="el" href="structmuse__stack.html#add94a33318ff2553bb51987f5eadb8cb">muse_stack::bottom</a>, <a class="el" href="group__Modules.html#ga85915bb7656e73ca9a74af2c6a28e6c8">module_find_symbol_with_value()</a>, <a class="el" href="group__MuseAPI.html#ga758ac75e581c6ac32b06e61741fa22ca">muse_functional_object_data()</a>, <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>, and <a class="el" href="structmuse__stack.html#a5f19c1e1fd2260e7f327ef3d00011c95">muse_stack::size</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon May 16 2016 09:31:44 for muSE by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
