<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>muSE: Language constructs</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">muSE
   &#160;<span id="projectnumber">r716</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Language constructs</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gafce4a8c48b1592454b142d310f09dfea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LanguageConstructs.html#gafce4a8c48b1592454b142d310f09dfea">syntax_if</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:gafce4a8c48b1592454b142d310f09dfea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga14f1bc4ada1f107a90f7153bcfa3f128"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LanguageConstructs.html#ga14f1bc4ada1f107a90f7153bcfa3f128">syntax_when</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:ga14f1bc4ada1f107a90f7153bcfa3f128"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac30462d067242c01bbfdcedcf930df30"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LanguageConstructs.html#gac30462d067242c01bbfdcedcf930df30">syntax_unless</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:gac30462d067242c01bbfdcedcf930df30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf204b53ce51e66da138cf68dbb710f2a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LanguageConstructs.html#gaf204b53ce51e66da138cf68dbb710f2a">syntax_cond</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="memdesc:gaf204b53ce51e66da138cf68dbb710f2a"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code>cond</code> is the generalization of if-then-else nested blocks.  <a href="#gaf204b53ce51e66da138cf68dbb710f2a">More...</a><br /></td></tr>
<tr class="separator:gaf204b53ce51e66da138cf68dbb710f2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2bc0a8ef32cb9c70a13a6808b58ea9fc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LanguageConstructs.html#ga2bc0a8ef32cb9c70a13a6808b58ea9fc">syntax_do</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:ga2bc0a8ef32cb9c70a13a6808b58ea9fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab1a79ecd4c39138c8f06b9369196523c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LanguageConstructs.html#gab1a79ecd4c39138c8f06b9369196523c">syntax_while</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:gab1a79ecd4c39138c8f06b9369196523c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga411d2f0a9e1b458150436775ce09d0d4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LanguageConstructs.html#ga411d2f0a9e1b458150436775ce09d0d4">syntax_for</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:ga411d2f0a9e1b458150436775ce09d0d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafa9459789c0e0f6f8b246aee3d73a536"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LanguageConstructs.html#gafa9459789c0e0f6f8b246aee3d73a536">fn_the</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:gafa9459789c0e0f6f8b246aee3d73a536"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gafce4a8c48b1592454b142d310f09dfea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> syntax_if </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(if cond-expr then-expr else-expr) </div></div><!-- fragment --><p> Evaluate the <code>cond-expr</code> first. If the <code>cond-expr</code> evaluates to something that's not <code></code>(), the <code>if</code> expression evaluates to the result of the <code>then-expr</code>. If an <code>else-expr</code> is supplied and the <code>cond-expr</code> evaluated to <code></code>(), the result will be the evaluation of the <code>else-expr</code>. If no <code>else-expr</code> is supplied and the condition failed to test, then <code></code>() is the result.</p>
<p>For example - </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(if (= 1 2)</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    (print &quot;muSE doesn&#39;t know numbers!&quot;)</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    (print &quot;muSE knows numbers, alright&quot;))</div></div><!-- fragment --> 
<p>References <a class="el" href="group__MuseAPI.html#gaa1aa2951f816f09aa3b1ee8aa75ad47e">muse_eval()</a>, <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a19c118a030d543c837a7e258fd4c3d10">MUSE_IT</a>, <a class="el" href="group__MuseAPI.html#gafa6f83554ab1865d2df3bb642b399b66">muse_message()</a>, <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>, <a class="el" href="group__Processes__impl.html#ga42275893c621de9fecdddfb5ff5dcb9e">muse_pop_recent_scope()</a>, and <a class="el" href="group__LanguageConstructs.html#gafce4a8c48b1592454b142d310f09dfea">syntax_if()</a>.</p>

<p>Referenced by <a class="el" href="group__LanguageConstructs.html#gafce4a8c48b1592454b142d310f09dfea">syntax_if()</a>.</p>

</div>
</div>
<a class="anchor" id="ga14f1bc4ada1f107a90f7153bcfa3f128"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> syntax_when </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(when cond ...body...) </div></div><!-- fragment --><p>Evaluates <code>cond</code> first. If condition evaluated to non-NIL value, then the body is evaluated just like <code>do</code> and the value of the last expression is the value of the <code>when</code> construct. Otherwise the value is <code></code>(). </p>

<p>References <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>.</p>

</div>
</div>
<a class="anchor" id="gac30462d067242c01bbfdcedcf930df30"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> syntax_unless </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(unless cond ...body...) </div></div><!-- fragment --><p>Evaluates <code>cond</code> first. If condition evaluated to <code></code>(), then the body is evaluated just like <code>do</code> and the value of the last expression is the value of the <code>unless</code> construct. Otherwise the value is <code></code>(). </p>

<p>References <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>.</p>

</div>
</div>
<a class="anchor" id="gaf204b53ce51e66da138cf68dbb710f2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> syntax_cond </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>cond</code> is the generalization of if-then-else nested blocks. </p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(cond</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; (test1 result1)</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160; (test2 result2)</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; ...</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160; (T else))</div></div><!-- fragment --><p> The above form will first check whether <code>test1</code> is satisfied. If it is, then the result will be the evaluation of <code>result1</code>. If not, then <code>test2</code> is checked, and so on. For example - </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(cond</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    ((&lt; a b) (print &quot;a &lt; b&quot;))</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    ((&lt; a c) (print &quot;a &lt; c, but not b&quot;))</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    (T (print &quot;a is &gt;= b and c&quot;)))</div></div><!-- fragment --> 
<p>References <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a19c118a030d543c837a7e258fd4c3d10">MUSE_IT</a>, <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>, <a class="el" href="group__Processes__impl.html#ga42275893c621de9fecdddfb5ff5dcb9e">muse_pop_recent_scope()</a>, and <a class="el" href="group__LanguageConstructs.html#gaf204b53ce51e66da138cf68dbb710f2a">syntax_cond()</a>.</p>

<p>Referenced by <a class="el" href="group__LanguageConstructs.html#gaf204b53ce51e66da138cf68dbb710f2a">syntax_cond()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2bc0a8ef32cb9c70a13a6808b58ea9fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> syntax_do </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(do ...expressions...) </div></div><!-- fragment --><p> Defines an expression block. The result of the do block is the result of the last expression in the block, after evaluating all the expressions in the block in sequence. </p>

<p>Referenced by <a class="el" href="group__Modules.html#ga85915bb7656e73ca9a74af2c6a28e6c8">module_find_symbol_with_value()</a>.</p>

</div>
</div>
<a class="anchor" id="gab1a79ecd4c39138c8f06b9369196523c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> syntax_while </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(while bool-expr &lt;body&gt;) </div></div><!-- fragment --><p> Repeatedly evaluates the body statements as long as the <code>bool-expr</code> expression evaluates to something non-nil. </p>

<p>References <a class="el" href="group__MuseAPI.html#gafa6f83554ab1865d2df3bb642b399b66">muse_message()</a>, and <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>.</p>

</div>
</div>
<a class="anchor" id="ga411d2f0a9e1b458150436775ce09d0d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> syntax_for </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(for init-expr cond-expr step-expr body [result-expr]) </div></div><!-- fragment --><p> For-loop must be obvious to all ye C-fans. ex: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(for (set! i (dup 0)) (&lt; i 1000) (++ i)</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; (do (set! j (+ j (* i i)))</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;     (print j))</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; j)</div></div><!-- fragment --> 
<p>References <a class="el" href="group__MuseAPI.html#gafa6f83554ab1865d2df3bb642b399b66">muse_message()</a>, and <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>.</p>

</div>
</div>
<a class="anchor" id="gafa9459789c0e0f6f8b246aee3d73a536"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_the </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(the recent-key) </div></div><!-- fragment --><p>Looks up the given recent-key to access the result of a recently done computation. Some builtin functions add their results to the recent list as do all user-defined functions. The recent list length is 8. This roughly matches the level at which readability begin to suffer instead of improving.</p>
<p>Here is a trivial example for illustration - a function that computes (a+b)/(a-b). </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&gt; (define (add a b) (+ a b))</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;&gt; (define (sub a b) (- a b))</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;&gt; (define (h a b)</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;   (add a b)</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;   (sub a b)</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;   (/ (the add) (the sub)))</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;&gt; (h 5 2)</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;2.333333</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;&gt; (the h)</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;2.333333</div></div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>The <code>add</code> and <code>sub</code> recent results are not accessible to the caller of <code>h</code>. Evaluating<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(the add) </div></div><!-- fragment --> after evaluating <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(h 5 2) </div></div><!-- fragment --> will result in a "recent item not found" message box. This is a very important property of <code>the</code> - its ability to restrict the scope of the recent computations to the scope of user defined functions so that callers can access the results of <em>their</em> function evaluations rather than those made by the functions they evaluate.</dd></dl>
<p>Here is another contrived one - </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(if (find x some-list)</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;   (length (the find))</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;   (raise &#39;FindFailed x))</div></div><!-- fragment --><p> The above example is clearer using <code>the</code> and without it, you might have to write - </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(let ((result (find x some-list)))</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;   (if result </div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;      (length result)</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;      (raise &#39;FindFailed x)))</div></div><!-- fragment --><p> which introduces a new name <code>result</code> into the code, besides adding a level of nesting for the purpose. The <code>the</code> primitive therefore reduces the need to introduce new temporary names into the code by allowing you to refer to recent computation results using the function that computed it as the key. As in the trivial </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(h a b) </div></div><!-- fragment --><p> example above, it allows you to reduce the level of nesting as well.</p>
<dl class="section user"><dt><code>the</code> and <code>it</code> </dt><dd>Within a given scope, the reserved symbol "it" can be used to refer to the most recently evaluated "the" expression. "it" will refer to the most recent "the" expression even if that result has been forgotten in the recent list and can no longer be obtained by re-evaluating the "the" expression. Here's an example - <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(if (find x some-list)</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;   (if (&gt;= (length (the find)) 3)</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;      (print it)</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;      (print (the length) &quot;is too short because&quot; it &quot;is less than 3.&quot;))</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;   (raise &#39;FindFailed x))</div></div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Builtins that support <code>the</code> -</dt><dd><ul>
<li>length, map, join, collect, reduce,</li>
<li>find, andmap, ormap</li>
<li>transpose</li>
<li>vector, hashtable, list</li>
<li>read, read-bytes, read-xml</li>
<li>open-file </li>
</ul>
</dd></dl>

<p>References <a class="el" href="group__Processes__impl.html#ga578f2b216d65fa7113ea43c880c5cc8a">muse_find_recent_item()</a>, <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a19c118a030d543c837a7e258fd4c3d10">MUSE_IT</a>, <a class="el" href="group__MuseAPI.html#gafa6f83554ab1865d2df3bb642b399b66">muse_message()</a>, <a class="el" href="group__MuseAPI.html#ggab5b6d16681e25eaab89b93fad90b4727adda7db0e96c4d555efd6c404997d1929">MUSE_NATIVEFN_CELL</a>, and <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon May 16 2016 09:31:44 for muSE by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
