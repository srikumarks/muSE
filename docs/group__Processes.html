<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>muSE: Processes</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">muSE
   &#160;<span id="projectnumber">r716</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Processes</div>  </div>
</div><!--header-->
<div class="contents">

<p>The "processes" branch of muSE has an implementation of a notion of processes as an abstraction that helps model concurrently running tasks.  
<a href="#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for Processes:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<center><table><tr><td><img src="group__Processes.png" border="0" alt="" usemap="#group____Processes"/>
<map name="group____Processes" id="group____Processes">
<area shape="rect" id="node1" href="group__Processes__impl.html" title="A muSE environment contains a circular list of processes called the &quot;process ring&quot; which it cycles th..." alt="" coords="139,5,213,32"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__Processes__impl"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Processes__impl.html">Internals</a></td></tr>
<tr class="memdesc:group__Processes__impl"><td class="mdescLeft">&#160;</td><td class="mdescRight">A muSE environment contains a circular list of processes called the "process ring" which it cycles through, spending a bit of attention on each process before switching to the next. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga2f4e9d486714febb8a76e75dff231fb1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Processes.html#ga2f4e9d486714febb8a76e75dff231fb1">fn_spawn</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:ga2f4e9d486714febb8a76e75dff231fb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1ae2b7dc7d2369409f7d527268ad816"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Processes.html#gad1ae2b7dc7d2369409f7d527268ad816">fn_this_process</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:gad1ae2b7dc7d2369409f7d527268ad816"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaadac727b94da53cc4246566e83f8d4f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Processes.html#gaadac727b94da53cc4246566e83f8d4f7">syntax_atomic</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:gaadac727b94da53cc4246566e83f8d4f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7db8a3b88f9b38e3d3bcb4dd59c3b7f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Processes.html#ga7db8a3b88f9b38e3d3bcb4dd59c3b7f5">fn_receive</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:ga7db8a3b88f9b38e3d3bcb4dd59c3b7f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2aafcfd0961232ac9245a30bcf17fb99"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Processes.html#ga2aafcfd0961232ac9245a30bcf17fb99">fn_run</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:ga2aafcfd0961232ac9245a30bcf17fb99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga00faa175d47808850da19b80bf47709d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Processes.html#ga00faa175d47808850da19b80bf47709d">fn_post</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:ga00faa175d47808850da19b80bf47709d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0e77b1730c7d072e39139771f06131b0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Processes.html#ga0e77b1730c7d072e39139771f06131b0">fn_process_p</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:ga0e77b1730c7d072e39139771f06131b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga94cfc2562338194ec53f0c6686454d7f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Processes.html#ga94cfc2562338194ec53f0c6686454d7f">fn_with_timeout_us</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:ga94cfc2562338194ec53f0c6686454d7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The "processes" branch of muSE has an implementation of a notion of processes as an abstraction that helps model concurrently running tasks. </p>
<p>Every muSE environment is initialized with a <em>main process</em> through which all API calls enter and exit. A muSE expression may spawn off additional processes using the <a class="el" href="group__Processes.html#ga2f4e9d486714febb8a76e75dff231fb1">spawn</a> function. The evaluator may switch to another process upon any invocation of <a class="el" href="group__MuseAPI.html#ga6a75adf7f34c0b6517eba3e1875b9b52" title="Applies the given native function or lambda to the given list of arguments and returns the result...">muse_apply()</a>. Therefore, process switching appears to be pre-emptive at the Scheme code level, but evaluation is atomic at the C code level unless explicitly pre-empted in a <a class="el" href="group__MuseAPI.html#ga6a75adf7f34c0b6517eba3e1875b9b52" title="Applies the given native function or lambda to the given list of arguments and returns the result...">muse_apply()</a>. You can force the evaluation of any expression to occur atomically using the <a class="el" href="group__Processes.html#gaadac727b94da53cc4246566e83f8d4f7">atomic</a> construct.</p>
<p>The basic mechanism by which processes communicate is by sending messages to each other. A process's <a class="el" href="group__Processes__impl.html#ga3498c4e0fe9f9f6c2ea624cc52f8224c">pid</a> serves as the function to use to send it messages, which can be arbitrary s-expressions. A process receives messages sent to its mailbox using the <a class="el" href="group__Processes.html#ga7db8a3b88f9b38e3d3bcb4dd59c3b7f5">receive</a> function, which might block until a message is available or a timeout is reached.</p>
<p>It is possible for any process to yield an arbitrary chunk of time to other processes using the <a class="el" href="group__Processes.html#ga2aafcfd0961232ac9245a30bcf17fb99">run</a> expression.</p>
<p>Each process is given its own namespace of symbol values. This means a process cannot change the value of a symbol that is being used by another process. When one process spawns another, the created process inherits the creating process's symbol values. If it subsequently changes the symbol values, the changes are not visible to the process that created it. However, if two processes share an object such as a list, both processes can modify the contents of the object. The only constructs available to coordinate such modifications are message passing and atomic blocks. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga2f4e9d486714febb8a76e75dff231fb1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_spawn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(spawn (fn () [body]) [attention]) -&gt; pid </div></div><!-- fragment --><p>Spawns a new process which will evaluate the given thunk. The (optional) attention value is a positive integer giving the number of reductions to perform in the created process before yielding to other processes. The default value is 10.</p>
<p>The result of the spawn expression is a pid using which you can identify the created process and send messages to it by using the pid as a normal function.</p>
<p>The process will end when the thunk completes evaluation. So if you want to create a server process, you can express it as an infinitely tail recursive function. (Tail recursive calls are stack optimized.) </p>

<p>References <a class="el" href="group__Processes__impl.html#gae1c3aabf7c94e36ce0312c0ac7f880cb">create_process()</a>, <a class="el" href="group__Processes__impl.html#ga8c447cc19c640268f04dae615ba415a2">init_process_mailbox()</a>, <a class="el" href="group__MuseAPI.html#gga99a6fcb4727b48a74b6ad1f9d821381eafc65903740a10aa20751dec6c5b81c0c">MUSE_DEFAULT_ATTENTION</a>, <a class="el" href="group__Processes__impl.html#gae5d324e45df9b9b504ad174921b3b59b">prime_process()</a>, and <a class="el" href="group__Processes__impl.html#gab97662753a5bcc8a303d3bcbf4548f35">process_id()</a>.</p>

</div>
</div>
<a class="anchor" id="gad1ae2b7dc7d2369409f7d527268ad816"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_this_process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(this-process) </div></div><!-- fragment --><p>Evaluates to the pid of the process in which it is evaluated. </p>

<p>References <a class="el" href="group__Processes__impl.html#gab97662753a5bcc8a303d3bcbf4548f35">process_id()</a>.</p>

</div>
</div>
<a class="anchor" id="gaadac727b94da53cc4246566e83f8d4f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> syntax_atomic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(atomic ...body...) </div></div><!-- fragment --><p>Behaves like <a class="el" href="group__LanguageConstructs.html#ga2bc0a8ef32cb9c70a13a6808b58ea9fc">do</a>, but evaluates the entire body atomically, i.e. without switching to another process, as long as you don't use the pausing functions <a class="el" href="group__Processes.html#ga7db8a3b88f9b38e3d3bcb4dd59c3b7f5">receive</a> and <a class="el" href="group__Processes.html#ga2aafcfd0961232ac9245a30bcf17fb99">run</a>. </p>

<p>References <a class="el" href="group__Processes__impl.html#ga7af29c06ac0250072cbee740501ddd52">enter_atomic()</a>, <a class="el" href="group__Processes__impl.html#ga0e337274b73541592c386a6161c9d4ae">leave_atomic()</a>, and <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>.</p>

</div>
</div>
<a class="anchor" id="ga7db8a3b88f9b38e3d3bcb4dd59c3b7f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_receive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(receive [pid] [timeout-us]) </div></div><!-- fragment --><p>Waits for and returns the next message in the process' mailbox. It has four forms -</p><ul>
<li>(receive)</li>
<li>(receive pid)</li>
<li>(receive timeout-us)</li>
<li>(receive pid timeout-us)</li>
</ul>
<p>If a process-id is given as the argument, it waits until a message is received from that specific process. If a timeout value (in microseconds) is given, it waits until either a message is received or the timeout expires. If the timeout expired, the receive expression evaluates to MUSE_NIL - i.e. to (). </p>

<p>References <a class="el" href="group__MuseAPI.html#ga8b77a9ff29651f44b0f63cb4432a16e0">muse_elapsed_us()</a>, <a class="el" href="group__MuseAPI.html#ggab5b6d16681e25eaab89b93fad90b4727a91869d80e9b9627bbec81bc4340c665b">MUSE_FLOAT_CELL</a>, <a class="el" href="group__MuseAPI.html#ggab5b6d16681e25eaab89b93fad90b4727a20fcdf8334127c2f95b4b9d5e360a74c">MUSE_INT_CELL</a>, <a class="el" href="group__MuseAPI.html#ggab5b6d16681e25eaab89b93fad90b4727adda7db0e96c4d555efd6c404997d1929">MUSE_NATIVEFN_CELL</a>, <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>, and <a class="el" href="group__Processes__impl.html#gaaba2c973e1cfc5b3c74d72d9e21ce6c4">switch_to_process()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2aafcfd0961232ac9245a30bcf17fb99"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_run </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(run [duration-us]) </div></div><!-- fragment --><p>If the duration argument is omitted, the expression never terminates and the process becomes blocked. If a duration is given (in microseconds), the process yields time to other processes for at least that much time. There is no accuracy guarantee for the timing. </p>

<p>References <a class="el" href="group__MuseAPI.html#ga8b77a9ff29651f44b0f63cb4432a16e0">muse_elapsed_us()</a>, <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>, and <a class="el" href="group__Processes__impl.html#gaaba2c973e1cfc5b3c74d72d9e21ce6c4">switch_to_process()</a>.</p>

</div>
</div>
<a class="anchor" id="ga00faa175d47808850da19b80bf47709d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_post </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(post msg [pid]) </div></div><!-- fragment --><p>Allows you to post an arbitrary sexpr as a message to the current process. The difference between using post and <a class="el" href="group__Processes__impl.html#ga3498c4e0fe9f9f6c2ea624cc52f8224c">pid</a> (as a function) is that when posting a message using <a class="el" href="group__Processes__impl.html#ga3498c4e0fe9f9f6c2ea624cc52f8224c">pid</a>, the message consists of the argument list and the pid of the sending process is prepended to this list. If you use "post", the message is the first argument - as is. This means "post" is the only way to post, for example, a symbol or a number as the message itself.</p>
<p>An important use for this function is to postpone the processing of a message in situations where how to process it cannot be determined at the time the message is received. If you supply an optional pid, a message can be diverted to another process without modification. In this case, the message is not posted to the current process.</p>
<p>Ex: Postponing the processing of a message - </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(case (receive)</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;   (pattern-1 ....)</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;   (pattern-2 ....)</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;   ...</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;   (any (post any)))</div></div><!-- fragment --> 
<p>References <a class="el" href="muse__builtins_8c.html#aadec807b470153873af807c266356761">_is_pid</a>, <a class="el" href="group__MuseAPI.html#gafa6f83554ab1865d2df3bb642b399b66">muse_message()</a>, <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>, and <a class="el" href="group__Processes__impl.html#ga32753dfbe59ee8b5b9a2c4b5cf504c58">post_message()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0e77b1730c7d072e39139771f06131b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_process_p </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(process? pid) </div></div><!-- fragment --><p>Evaluates to <code>pid</code> if it is a valid process id and to <code>()</code> if it isn't. </p>

<p>References <a class="el" href="muse__builtins_8c.html#aadec807b470153873af807c266356761">_is_pid</a>.</p>

</div>
</div>
<a class="anchor" id="ga94cfc2562338194ec53f0c6686454d7f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_with_timeout_us </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;(with-timeout-us &#39;id us ...body...) </div></div><!-- fragment --><p>Evaluates body like a <code>do</code> statement does, but imposes the given timeout for it. If the timeout expires during the evaluation of the body, it raises the ('timeout 'id given-us elapsed-us) exception. </p>

<p>References <a class="el" href="group__MuseAPI.html#gad5b7765e08e37993d41ec6128055fb10">muse_do()</a>, <a class="el" href="group__MuseAPI.html#ga3759b98c4d3ae82568ab595fdf2b18a7">muse_force()</a>, <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>, <a class="el" href="group__MuseAPI.html#ggab5b6d16681e25eaab89b93fad90b4727aac36b25578762b2a3304acfafa7a74bf">MUSE_SYMBOL_CELL</a>, and <a class="el" href="group__Processes__impl.html#ga11edf833f173ae8d8333b9e7f2ace47f">push_timeout()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon May 16 2016 09:31:44 for muSE by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
