<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3"/>
<title>muSE: Ports</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">muSE
   &#160;<span id="projectnumber">r771</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Ports<div class="ingroups"><a class="el" href="group__FunctionalObjects.html">Functional objects</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for Ports:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<center><table><tr><td><img src="group__Ports.png" border="0" alt="" usemap="#group____Ports"/>
<map name="group____Ports" id="group____Ports">
<area shape="rect" id="node2" href="group__FunctionalObjects.html" title="A functional object is a general way to add natively implemented objects to muSE." alt="" coords="217,7,346,33"/></map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmuse__port__type__t.html">muse_port_type_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the Ports protocol.  <a href="structmuse__port__type__t.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmuse__port__buffer__t.html">muse_port_buffer_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Every port is buffered for input as well as output.  <a href="structmuse__port__buffer__t.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__muse__port__base__t.html">_muse_port_base_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The base port type.  <a href="struct__muse__port__base__t.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga2935877734e203567b627fdb38b2e178"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga2935877734e203567b627fdb38b2e178"></a>
typedef struct <a class="el" href="struct__muse__port__base__t.html">_muse_port_base_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Ports.html#ga2935877734e203567b627fdb38b2e178">muse_port_base_t</a></td></tr>
<tr class="memdesc:ga2935877734e203567b627fdb38b2e178"><td class="mdescLeft">&#160;</td><td class="mdescRight">The base port type. <br/></td></tr>
<tr class="separator:ga2935877734e203567b627fdb38b2e178"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gacabe2c100fc36b53e23461557649c5c9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Ports.html#gacabe2c100fc36b53e23461557649c5c9">fn_open_file</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, void *context, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> args)</td></tr>
<tr class="separator:gacabe2c100fc36b53e23461557649c5c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga03f8bcde33db881d0198aa3a8b2da7cc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga03f8bcde33db881d0198aa3a8b2da7cc"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Ports.html#ga03f8bcde33db881d0198aa3a8b2da7cc">muse_define_builtin_fileport</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env)</td></tr>
<tr class="memdesc:ga03f8bcde33db881d0198aa3a8b2da7cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds all file port definitions such as "open-file". <br/></td></tr>
<tr class="separator:ga03f8bcde33db881d0198aa3a8b2da7cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab64d525c878ebb2ac8d64d0dfaa5ca03"><td class="memItemLeft" align="right" valign="top">MUSEAPI <a class="el" href="struct__muse__port__base__t.html">muse_port_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Ports.html#gab64d525c878ebb2ac8d64d0dfaa5ca03">muse_assign_port</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, FILE *f, int mode)</td></tr>
<tr class="memdesc:gab64d525c878ebb2ac8d64d0dfaa5ca03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a port definition that you can use to read/write stuff from a given file pointer.  <a href="#gab64d525c878ebb2ac8d64d0dfaa5ca03"></a><br/></td></tr>
<tr class="separator:gab64d525c878ebb2ac8d64d0dfaa5ca03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3130376a5eca4a1be5733e06a4f467d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Ports.html#ga3130376a5eca4a1be5733e06a4f467d8">muse_unassign_port</a> (<a class="el" href="struct__muse__port__base__t.html">muse_port_t</a> p)</td></tr>
<tr class="memdesc:ga3130376a5eca4a1be5733e06a4f467d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unassigns a file port which was earlier assigned using <code>muse_assign_port</code>.  <a href="#ga3130376a5eca4a1be5733e06a4f467d8"></a><br/></td></tr>
<tr class="separator:ga3130376a5eca4a1be5733e06a4f467d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac01d77feaaf4cc858717850b25fb0f60"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gac01d77feaaf4cc858717850b25fb0f60"></a>
<a class="el" href="group__MuseAPI.html#gaa09e5d870e488397e5d40f431f05b57e">muse_char</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Ports.html#gac01d77feaaf4cc858717850b25fb0f60">port_getchar</a> (<a class="el" href="struct__muse__port__base__t.html">muse_port_t</a> p)</td></tr>
<tr class="memdesc:gac01d77feaaf4cc858717850b25fb0f60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a unicode character from the port. <br/></td></tr>
<tr class="separator:gac01d77feaaf4cc858717850b25fb0f60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3957e3213103755d4ee4569c5ed32126"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga3957e3213103755d4ee4569c5ed32126"></a>
<a class="el" href="group__MuseAPI.html#gaa09e5d870e488397e5d40f431f05b57e">muse_char</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Ports.html#ga3957e3213103755d4ee4569c5ed32126">port_putchar</a> (<a class="el" href="group__MuseAPI.html#gaa09e5d870e488397e5d40f431f05b57e">muse_char</a> c, <a class="el" href="struct__muse__port__base__t.html">muse_port_t</a> p)</td></tr>
<tr class="memdesc:ga3957e3213103755d4ee4569c5ed32126"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes the given unicode character to the port. <br/></td></tr>
<tr class="separator:ga3957e3213103755d4ee4569c5ed32126"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaccda4ec12c55623df60f2fd1ce291129"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaccda4ec12c55623df60f2fd1ce291129"></a>
<a class="el" href="group__MuseAPI.html#gaa09e5d870e488397e5d40f431f05b57e">muse_char</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Ports.html#gaccda4ec12c55623df60f2fd1ce291129">port_ungetchar</a> (<a class="el" href="group__MuseAPI.html#gaa09e5d870e488397e5d40f431f05b57e">muse_char</a> c, <a class="el" href="struct__muse__port__base__t.html">muse_port_t</a> p)</td></tr>
<tr class="memdesc:gaccda4ec12c55623df60f2fd1ce291129"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes back a unicode character to the port buffer. <br/></td></tr>
<tr class="separator:gaccda4ec12c55623df60f2fd1ce291129"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad07cebdfef9218bd38fa332ef2008be2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gad07cebdfef9218bd38fa332ef2008be2"></a>
white_space_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Ports.html#gad07cebdfef9218bd38fa332ef2008be2">ez_skip_whitespace</a> (<a class="el" href="struct__muse__port__base__t.html">muse_port_t</a> f, int line, int col)</td></tr>
<tr class="memdesc:gad07cebdfef9218bd38fa332ef2008be2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Skips all white space and comments following the current stream position in the given stream Returns the column position at which the next non-white space character starts. <br/></td></tr>
<tr class="separator:gad07cebdfef9218bd38fa332ef2008be2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gababd833a4264594f574b5fb7fdcb37cc"><td class="memItemLeft" align="right" valign="top">MUSEAPI <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Ports.html#gababd833a4264594f574b5fb7fdcb37cc">muse_pread</a> (<a class="el" href="struct__muse__port__base__t.html">muse_port_t</a> f)</td></tr>
<tr class="memdesc:gababd833a4264594f574b5fb7fdcb37cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the next symbolic expression at the current stream position, ignoring white space and comment lines.  <a href="#gababd833a4264594f574b5fb7fdcb37cc"></a><br/></td></tr>
<tr class="separator:gababd833a4264594f574b5fb7fdcb37cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga13f9823eddf8a7ce04dae8d24506917e"><td class="memItemLeft" align="right" valign="top">MUSEAPI void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Ports.html#ga13f9823eddf8a7ce04dae8d24506917e">muse_pwrite</a> (<a class="el" href="struct__muse__port__base__t.html">muse_port_t</a> f, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> sexpr)</td></tr>
<tr class="memdesc:ga13f9823eddf8a7ce04dae8d24506917e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes the given s-expression to the given stream.  <a href="#ga13f9823eddf8a7ce04dae8d24506917e"></a><br/></td></tr>
<tr class="separator:ga13f9823eddf8a7ce04dae8d24506917e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8665ccb146ded03de15f3cdcdb241f91"><td class="memItemLeft" align="right" valign="top">MUSEAPI <a class="el" href="struct__muse__port__base__t.html">muse_port_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Ports.html#ga8665ccb146ded03de15f3cdcdb241f91">muse_port</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> p)</td></tr>
<tr class="memdesc:ga8665ccb146ded03de15f3cdcdb241f91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Takes a muSE port represented as a cell and returns the internal port object that it uses.  <a href="#ga8665ccb146ded03de15f3cdcdb241f91"></a><br/></td></tr>
<tr class="separator:ga8665ccb146ded03de15f3cdcdb241f91"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Pretty print support.</h2></td></tr>
<tr class="memitem:gae16af5bc06231983daf6354ce71d28c1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gae16af5bc06231983daf6354ce71d28c1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>pretty_printer_indent</b> (<a class="el" href="struct__muse__port__base__t.html">muse_port_t</a> p)</td></tr>
<tr class="separator:gae16af5bc06231983daf6354ce71d28c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2b9dcc9e90262898a61ca03e50429560"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga2b9dcc9e90262898a61ca03e50429560"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>pretty_printer_unindent</b> (<a class="el" href="struct__muse__port__base__t.html">muse_port_t</a> p)</td></tr>
<tr class="separator:ga2b9dcc9e90262898a61ca03e50429560"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga19ecfa5225816aaffc9a9da69d5c5b02"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga19ecfa5225816aaffc9a9da69d5c5b02"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>pretty_printer_line_break</b> (<a class="el" href="struct__muse__port__base__t.html">muse_port_t</a> f)</td></tr>
<tr class="separator:ga19ecfa5225816aaffc9a9da69d5c5b02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9ea976829eb41f4dbbc85b20241aaaa9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga9ea976829eb41f4dbbc85b20241aaaa9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>pretty_printer_move</b> (<a class="el" href="struct__muse__port__base__t.html">muse_port_t</a> p, int numc)</td></tr>
<tr class="separator:ga9ea976829eb41f4dbbc85b20241aaaa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
ezscheme structures</h2></td></tr>
<tr class="memitem:ga882e14825ce846e5ce1ac14176695945"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga882e14825ce846e5ce1ac14176695945"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>ez_update_col</b> (<a class="el" href="struct__muse__port__base__t.html">muse_port_t</a> f, int ch, int col)</td></tr>
<tr class="separator:ga882e14825ce846e5ce1ac14176695945"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa219eb398df23f0b7da8e01a48e5ec73"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa219eb398df23f0b7da8e01a48e5ec73"></a>
ez_result_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Ports.html#gaa219eb398df23f0b7da8e01a48e5ec73">ez_parse</a> (<a class="el" href="struct__muse__port__base__t.html">muse_port_t</a> p, int col, muse_boolean is_head)</td></tr>
<tr class="memdesc:gaa219eb398df23f0b7da8e01a48e5ec73"><td class="mdescLeft">&#160;</td><td class="mdescRight">A scheme to eliminate unnecessary parentheses in code. <br/></td></tr>
<tr class="separator:gaa219eb398df23f0b7da8e01a48e5ec73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga89944a29b6ae5b5cec4aa2f30beef5ff"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga89944a29b6ae5b5cec4aa2f30beef5ff"></a>
<a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td><td class="memItemRight" valign="bottom"><b>ez_parse_expr</b> (<a class="el" href="struct__muse__port__base__t.html">muse_port_t</a> p)</td></tr>
<tr class="separator:ga89944a29b6ae5b5cec4aa2f30beef5ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Ports implementation API</h2></td></tr>
<tr class="memitem:ga90e852a3439b6c6d624cd6d5405fac18"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Ports.html#ga90e852a3439b6c6d624cd6d5405fac18">port_init</a> (<a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *env, <a class="el" href="group__Ports.html#ga2935877734e203567b627fdb38b2e178">muse_port_base_t</a> *p)</td></tr>
<tr class="memdesc:ga90e852a3439b6c6d624cd6d5405fac18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Intended to be called inside a particular port's init function at port creation time.  <a href="#ga90e852a3439b6c6d624cd6d5405fac18"></a><br/></td></tr>
<tr class="separator:ga90e852a3439b6c6d624cd6d5405fac18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3c23d346d7e034a983dba7255004991e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Ports.html#ga3c23d346d7e034a983dba7255004991e">port_destroy</a> (<a class="el" href="group__Ports.html#ga2935877734e203567b627fdb38b2e178">muse_port_base_t</a> *p)</td></tr>
<tr class="memdesc:ga3c23d346d7e034a983dba7255004991e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Intended to be called inside a particular ports destroy function at port destruction time.  <a href="#ga3c23d346d7e034a983dba7255004991e"></a><br/></td></tr>
<tr class="separator:ga3c23d346d7e034a983dba7255004991e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga634b7a1d97682a3cd045af082c505f56"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Ports.html#ga634b7a1d97682a3cd045af082c505f56">port_free</a> (<a class="el" href="struct__muse__port__base__t.html">muse_port_t</a> p)</td></tr>
<tr class="memdesc:ga634b7a1d97682a3cd045af082c505f56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees the whole port.  <a href="#ga634b7a1d97682a3cd045af082c505f56"></a><br/></td></tr>
<tr class="separator:ga634b7a1d97682a3cd045af082c505f56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0ddcaab8423f19fca0aa6fbb56e3be7c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga0ddcaab8423f19fca0aa6fbb56e3be7c"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Ports.html#ga0ddcaab8423f19fca0aa6fbb56e3be7c">port_getc</a> (<a class="el" href="group__Ports.html#ga2935877734e203567b627fdb38b2e178">muse_port_base_t</a> *p)</td></tr>
<tr class="memdesc:ga0ddcaab8423f19fca0aa6fbb56e3be7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Same protocol as the system <code>getc</code> function, but works with the given port. <br/></td></tr>
<tr class="separator:ga0ddcaab8423f19fca0aa6fbb56e3be7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5de7a0c15b24fea5ce4701ae07907653"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Ports.html#ga5de7a0c15b24fea5ce4701ae07907653">port_ungetc</a> (int c, <a class="el" href="group__Ports.html#ga2935877734e203567b627fdb38b2e178">muse_port_base_t</a> *p)</td></tr>
<tr class="memdesc:ga5de7a0c15b24fea5ce4701ae07907653"><td class="mdescLeft">&#160;</td><td class="mdescRight">Same protocol as the system <code>ungetc</code> function.  <a href="#ga5de7a0c15b24fea5ce4701ae07907653"></a><br/></td></tr>
<tr class="separator:ga5de7a0c15b24fea5ce4701ae07907653"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga227eaea79866dd5b6906528c69c93787"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Ports.html#ga227eaea79866dd5b6906528c69c93787">port_putc</a> (int c, <a class="el" href="group__Ports.html#ga2935877734e203567b627fdb38b2e178">muse_port_base_t</a> *p)</td></tr>
<tr class="memdesc:ga227eaea79866dd5b6906528c69c93787"><td class="mdescLeft">&#160;</td><td class="mdescRight">Same protocol as the system <code>putc</code> function.  <a href="#ga227eaea79866dd5b6906528c69c93787"></a><br/></td></tr>
<tr class="separator:ga227eaea79866dd5b6906528c69c93787"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga550b00cbbe54e9d8d86593f2756258be"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Ports.html#ga550b00cbbe54e9d8d86593f2756258be">port_eof</a> (<a class="el" href="group__Ports.html#ga2935877734e203567b627fdb38b2e178">muse_port_base_t</a> *port)</td></tr>
<tr class="memdesc:ga550b00cbbe54e9d8d86593f2756258be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns EOF if the port has reached end of stream.  <a href="#ga550b00cbbe54e9d8d86593f2756258be"></a><br/></td></tr>
<tr class="separator:ga550b00cbbe54e9d8d86593f2756258be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaab59b1153bba5e36abf3416c35f52357"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaab59b1153bba5e36abf3416c35f52357"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Ports.html#gaab59b1153bba5e36abf3416c35f52357">port_close</a> (<a class="el" href="group__Ports.html#ga2935877734e203567b627fdb38b2e178">muse_port_base_t</a> *p)</td></tr>
<tr class="memdesc:gaab59b1153bba5e36abf3416c35f52357"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flushes the port and call's the port's close function to release system resources. <br/></td></tr>
<tr class="separator:gaab59b1153bba5e36abf3416c35f52357"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3481ee7bdc73eb523f91afb0e9718049"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Ports.html#ga3481ee7bdc73eb523f91afb0e9718049">port_read</a> (void *buffer, size_t nbytes, <a class="el" href="group__Ports.html#ga2935877734e203567b627fdb38b2e178">muse_port_base_t</a> *port)</td></tr>
<tr class="memdesc:ga3481ee7bdc73eb523f91afb0e9718049"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wraps the port specific read function.  <a href="#ga3481ee7bdc73eb523f91afb0e9718049"></a><br/></td></tr>
<tr class="separator:ga3481ee7bdc73eb523f91afb0e9718049"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabcd4c57a466b82c1c4e0e2a499dd2213"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Ports.html#gabcd4c57a466b82c1c4e0e2a499dd2213">port_write</a> (void *buffer, size_t nbytes, <a class="el" href="group__Ports.html#ga2935877734e203567b627fdb38b2e178">muse_port_base_t</a> *port)</td></tr>
<tr class="memdesc:gabcd4c57a466b82c1c4e0e2a499dd2213"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wraps the port specific write function.  <a href="#gabcd4c57a466b82c1c4e0e2a499dd2213"></a><br/></td></tr>
<tr class="separator:gabcd4c57a466b82c1c4e0e2a499dd2213"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad08d8e10a2d6db19b1316989bd9ff8dd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gad08d8e10a2d6db19b1316989bd9ff8dd"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Ports.html#gad08d8e10a2d6db19b1316989bd9ff8dd">port_flush</a> (<a class="el" href="group__Ports.html#ga2935877734e203567b627fdb38b2e178">muse_port_base_t</a> *port)</td></tr>
<tr class="memdesc:gad08d8e10a2d6db19b1316989bd9ff8dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes any data pending in the port's output buffer and then calls the port-specific flush function. <br/></td></tr>
<tr class="separator:gad08d8e10a2d6db19b1316989bd9ff8dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga20b6519d13901b9cd6df436af2e12605"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga20b6519d13901b9cd6df436af2e12605"></a>
<a class="el" href="group__MuseAPI.html#gaa09e5d870e488397e5d40f431f05b57e">muse_char</a>&#160;</td><td class="memItemRight" valign="bottom"><b>port_getchar</b> (<a class="el" href="group__Ports.html#ga2935877734e203567b627fdb38b2e178">muse_port_base_t</a> *p)</td></tr>
<tr class="separator:ga20b6519d13901b9cd6df436af2e12605"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9449d62b3d80b7c3dcc9e404d9cd2b81"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga9449d62b3d80b7c3dcc9e404d9cd2b81"></a>
<a class="el" href="group__MuseAPI.html#gaa09e5d870e488397e5d40f431f05b57e">muse_char</a>&#160;</td><td class="memItemRight" valign="bottom"><b>port_putchar</b> (<a class="el" href="group__MuseAPI.html#gaa09e5d870e488397e5d40f431f05b57e">muse_char</a> c, <a class="el" href="group__Ports.html#ga2935877734e203567b627fdb38b2e178">muse_port_base_t</a> *p)</td></tr>
<tr class="separator:ga9449d62b3d80b7c3dcc9e404d9cd2b81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa780017c026b7a98af4bdc093a3ee3d3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa780017c026b7a98af4bdc093a3ee3d3"></a>
<a class="el" href="group__MuseAPI.html#gaa09e5d870e488397e5d40f431f05b57e">muse_char</a>&#160;</td><td class="memItemRight" valign="bottom"><b>port_ungetchar</b> (<a class="el" href="group__MuseAPI.html#gaa09e5d870e488397e5d40f431f05b57e">muse_char</a> c, <a class="el" href="group__Ports.html#ga2935877734e203567b627fdb38b2e178">muse_port_base_t</a> *p)</td></tr>
<tr class="separator:gaa780017c026b7a98af4bdc093a3ee3d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gacabe2c100fc36b53e23461557649c5c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> fn_open_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line">(open-file <span class="stringliteral">&quot;filename.txt&quot;</span> [<span class="stringliteral">&#39;for-reading &#39;</span><span class="keywordflow">for</span>-writing <span class="stringliteral">&#39;binary &#39;</span>expand-braces <span class="stringliteral">&#39;detect-macros &#39;</span>trust <span class="stringliteral">&#39;tab-syntax]) </span></div>
</div><!-- fragment --><p>Returns a new file port for reading or writing to it. Use <code>read</code> and <code>write</code> with the returned port and when you're done with it, call <code>close</code>. If you use the 'binary flag, then any header that might be present at the start of the file won't be processed. Also, no such header will be written out if you're opening the file for writing.</p>
<p>You can allow brace expansion during reading by passing the </p>
<div class="fragment"><div class="line"><span class="stringliteral">&#39;expand-braces </span></div>
</div><!-- fragment --><p> and macro detection and expansion using the</p>
<div class="fragment"><div class="line"><span class="stringliteral">&#39;detect-macros </span></div>
</div><!-- fragment --><p> flag. The</p>
<div class="fragment"><div class="line"><span class="stringliteral">&#39;trust </span></div>
</div><!-- fragment --><p> flag is an abbreviation for setting both of them. If both are not set, the reader will not execute any code. These flags only affect the port when opened in read mode.</p>
<p>For example - </p>
<div class="fragment"><div class="line">(let ((f (open-file <span class="stringliteral">&quot;output.txt&quot;</span> <span class="stringliteral">&#39;for-writing)))</span></div>
<div class="line"><span class="stringliteral">    (write f &#39;</span>(hello world))</div>
<div class="line">    (close f))</div>
</div><!-- fragment --><p>If <code>open-file</code> fails, it raises the</p>
<div class="fragment"><div class="line">(<span class="stringliteral">&#39;error:open-file &lt;filename&gt;) </span></div>
</div><!-- fragment --><p> exception. You can resume the exception by</p>
<ol type="1">
<li>continuing with a different filename,</li>
<li>continuing with () which will cause the port to be in eof state. You can also, of course, abort.</li>
</ol>
<p>Supports <a class="el" href="group__CoreLanguage.html#gafa9459789c0e0f6f8b246aee3d73a536">the</a></p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">error:open-file</td><td>Handler format:<div class="fragment"><div class="line">(fn (resume <span class="stringliteral">&#39;error:open-file path) ...) </span></div>
</div><!-- fragment --> Raised when, for some reason, the given path couldn't be opened as a file. The handler can resume by resolving the correct path to use. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="group__Processes__impl.html#gae1d9b98957a7cd29cb28b74deab5a41a">muse_add_recent_item()</a>.</p>

<p>Referenced by <a class="el" href="group__Ports.html#ga03f8bcde33db881d0198aa3a8b2da7cc">muse_define_builtin_fileport()</a>.</p>

</div>
</div>
<a class="anchor" id="gab64d525c878ebb2ac8d64d0dfaa5ca03"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MUSEAPI <a class="el" href="struct__muse__port__base__t.html">muse_port_t</a> muse_assign_port </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a port definition that you can use to read/write stuff from a given file pointer. </p>
<p>The returned port is only for use by the API when it has a file pointer and must use the port calls such as <a class="el" href="group__MuseAPI.html#ga5f798991587017096d24ae10a70e553e" title="Reads the next symbolic expression at the current stream position, ignoring white space and comment l...">muse_pread()</a> several times on the same port.</p>
<p>Ports assigned using <code>muse_assign_port</code> must be released using <code>muse_unassign_port</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>The file that the new port should read from. </td></tr>
    <tr><td class="paramname">mode</td><td>A combination of <code>muse_port_mode_bits_t</code> indicating properties of the file port. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="group__MuseAPI.html#gga4cacdd3763ca0ed2861411836c2d3875aa540c4f1f91dd8a72a319fc2a95762ac">MUSE_PORT_READ</a>, <a class="el" href="group__MuseAPI.html#gga4cacdd3763ca0ed2861411836c2d3875afe02593ecd705b5bce3e8639b5d4ee1a">MUSE_PORT_READ_DETECT_MACROS</a>, <a class="el" href="group__MuseAPI.html#gga4cacdd3763ca0ed2861411836c2d3875a724b8809e9c519f8c5c0866584b669db">MUSE_PORT_WRITE</a>, and <a class="el" href="group__Ports.html#ga90e852a3439b6c6d624cd6d5405fac18">port_init()</a>.</p>

<p>Referenced by <a class="el" href="muse__builtins_8h.html#a6ca748027eb81912562473c47b141380">fn_generate_documentation()</a>, and <a class="el" href="group__MuseAPI.html#gae5359870c499ef3c17f7553600314127">muse_load()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3130376a5eca4a1be5733e06a4f467d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void muse_unassign_port </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__muse__port__base__t.html">muse_port_t</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unassigns a file port which was earlier assigned using <code>muse_assign_port</code>. </p>
<p>Should not be used with other ports. </p>

<p>References <a class="el" href="group__MuseAPI.html#gga4cacdd3763ca0ed2861411836c2d3875a724b8809e9c519f8c5c0866584b669db">MUSE_PORT_WRITE</a>, <a class="el" href="group__Ports.html#ga3c23d346d7e034a983dba7255004991e">port_destroy()</a>, and <a class="el" href="group__Ports.html#gad08d8e10a2d6db19b1316989bd9ff8dd">port_flush()</a>.</p>

<p>Referenced by <a class="el" href="muse__builtins_8h.html#a6ca748027eb81912562473c47b141380">fn_generate_documentation()</a>, and <a class="el" href="group__MuseAPI.html#gae5359870c499ef3c17f7553600314127">muse_load()</a>.</p>

</div>
</div>
<a class="anchor" id="ga90e852a3439b6c6d624cd6d5405fac18"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void port_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Ports.html#ga2935877734e203567b627fdb38b2e178">muse_port_base_t</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Intended to be called inside a particular port's init function at port creation time. </p>
<p>A common API provided to all ports.</p>
<p>Sets up the port's buffers.</p>
<p>A specific port implementation need not implement any buffering scheme because this base implementation automatically provides one. </p>

<p>References <a class="el" href="group__FunctionalObjects.html#ga56a8e4c5dfb2ed7e083cf814dcd8e1b7">_muse_port_base_t::env</a>, <a class="el" href="group__MuseAPI.html#gga99a6fcb4727b48a74b6ad1f9d821381ea698efb198396371f93a4bd7453d6cb94">MUSE_PRETTY_PRINT</a>, <a class="el" href="group__MuseAPI.html#gga99a6fcb4727b48a74b6ad1f9d821381ea4c8668c08ca5d871e86eeb6eed3bdc07">MUSE_TAB_SIZE</a>, <a class="el" href="group__FunctionalObjects.html#gab77d8e498e45fcdd7381f1a1b19463c7">_muse_port_base_t::pp_max_indent_cols</a>, and <a class="el" href="structmuse__functional__object__t.html#ab945aba9820856c11b788d725975c435">muse_functional_object_t::type_info</a>.</p>

<p>Referenced by <a class="el" href="group__Ports.html#gab64d525c878ebb2ac8d64d0dfaa5ca03">muse_assign_port()</a>, and <a class="el" href="group__Ports.html#ga03f8bcde33db881d0198aa3a8b2da7cc">muse_define_builtin_fileport()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3c23d346d7e034a983dba7255004991e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void port_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Ports.html#ga2935877734e203567b627fdb38b2e178">muse_port_base_t</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Intended to be called inside a particular ports destroy function at port destruction time. </p>
<p>Destroys the port's buffers. </p>

<p>Referenced by <a class="el" href="group__Ports.html#ga3130376a5eca4a1be5733e06a4f467d8">muse_unassign_port()</a>, <a class="el" href="group__Ports.html#gaab59b1153bba5e36abf3416c35f52357">port_close()</a>, and <a class="el" href="group__Ports.html#ga634b7a1d97682a3cd045af082c505f56">port_free()</a>.</p>

</div>
</div>
<a class="anchor" id="ga634b7a1d97682a3cd045af082c505f56"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void port_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__muse__port__base__t.html">muse_port_t</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees the whole port. </p>
<p>Not for use within muSE function implementations. Only for use from C-API. </p>

<p>References <a class="el" href="group__Ports.html#gaab59b1153bba5e36abf3416c35f52357">port_close()</a>, and <a class="el" href="group__Ports.html#ga3c23d346d7e034a983dba7255004991e">port_destroy()</a>.</p>

<p>Referenced by <a class="el" href="group__ByteArray.html#ga9e4535deef369d6d89e36e375e4ecf3a">fn_with_bytes_as_port()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5de7a0c15b24fea5ce4701ae07907653"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int port_ungetc </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Ports.html#ga2935877734e203567b627fdb38b2e178">muse_port_base_t</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Same protocol as the system <code>ungetc</code> function. </p>
<p>The only difference from the system version is that infinite ungetting is not supported. Only a maximum of 16 characters may be "ungot". </p>

<p>References <a class="el" href="group__FunctionalObjects.html#ga56a8e4c5dfb2ed7e083cf814dcd8e1b7">_muse_port_base_t::env</a>, and <a class="el" href="group__MuseAPI.html#gga99a6fcb4727b48a74b6ad1f9d821381ea4c8668c08ca5d871e86eeb6eed3bdc07">MUSE_TAB_SIZE</a>.</p>

<p>Referenced by <a class="el" href="group__Ports.html#gad07cebdfef9218bd38fa332ef2008be2">ez_skip_whitespace()</a>, <a class="el" href="group__Ports.html#gababd833a4264594f574b5fb7fdcb37cc">muse_pread()</a>, and <a class="el" href="group__Ports.html#gaccda4ec12c55623df60f2fd1ce291129">port_ungetchar()</a>.</p>

</div>
</div>
<a class="anchor" id="ga227eaea79866dd5b6906528c69c93787"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int port_putc </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Ports.html#ga2935877734e203567b627fdb38b2e178">muse_port_base_t</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Same protocol as the system <code>putc</code> function. </p>
<p>Flushes the port whenever a '<br/>
' character is put. </p>

<p>References <a class="el" href="group__FunctionalObjects.html#ga56a8e4c5dfb2ed7e083cf814dcd8e1b7">_muse_port_base_t::env</a>, and <a class="el" href="group__Ports.html#gad08d8e10a2d6db19b1316989bd9ff8dd">port_flush()</a>.</p>

<p>Referenced by <a class="el" href="muse__builtin__networking_8c.html#a12401ed8c0996030be47c10fbe72dbb3">fn_http_respond()</a>, <a class="el" href="group__Networking.html#ga5968a701526fe7bc85ffc54a741f3fa3">fn_reply()</a>, <a class="el" href="muse__platform_8h.html#ab420cd73ce4ac799a66f96f051a31fd9">muse_assert_failed()</a>, and <a class="el" href="group__MuseAPI.html#gada9c5fb3bac8db6adc1cfd1bec2379b6">muse_mickey()</a>.</p>

</div>
</div>
<a class="anchor" id="ga550b00cbbe54e9d8d86593f2756258be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int port_eof </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Ports.html#ga2935877734e203567b627fdb38b2e178">muse_port_base_t</a> *&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns EOF if the port has reached end of stream. </p>
<p>similar to <code>feof</code>. </p>

<p>Referenced by <a class="el" href="group__Ports.html#gaa219eb398df23f0b7da8e01a48e5ec73">ez_parse()</a>, <a class="el" href="muse__port_8c.html#a8ac6378bb176896a8ac7f81582a15d7b">ez_parse_group()</a>, <a class="el" href="muse__port_8c.html#a8eef33a279fb135091c2243ca50f92d3">ez_parse_list()</a>, <a class="el" href="group__PortIO.html#ga73d6c9df7876a3f059731a2f481ac17b">fn_eof_p()</a>, <a class="el" href="group__ByteArray.html#gaa87b716c68d53878cc9df8fef45fed68">fn_read_bytes()</a>, <a class="el" href="group__PortIO.html#gacac38ca217fad27de091077027dadb96">fn_read_line()</a>, <a class="el" href="group__MuseAPI.html#gada9c5fb3bac8db6adc1cfd1bec2379b6">muse_mickey()</a>, <a class="el" href="group__MuseAPI.html#ga57e552c1e259fdf9c2417f8b637111ab">muse_pload()</a>, and <a class="el" href="group__Ports.html#gababd833a4264594f574b5fb7fdcb37cc">muse_pread()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3481ee7bdc73eb523f91afb0e9718049"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t port_read </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nbytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Ports.html#ga2935877734e203567b627fdb38b2e178">muse_port_base_t</a> *&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wraps the port specific read function. </p>
<p>Any data pending in the input buffer is copied first before requesting the port for more data. </p>

<p>References <a class="el" href="group__FunctionalObjects.html#ga56a8e4c5dfb2ed7e083cf814dcd8e1b7">_muse_port_base_t::env</a>, and <a class="el" href="group__Ports.html#gad08d8e10a2d6db19b1316989bd9ff8dd">port_flush()</a>.</p>

</div>
</div>
<a class="anchor" id="gabcd4c57a466b82c1c4e0e2a499dd2213"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t port_write </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nbytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Ports.html#ga2935877734e203567b627fdb38b2e178">muse_port_base_t</a> *&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wraps the port specific write function. </p>
<p>Writes any data in the output buffer before calling the port-specific write function. If the buffer can hold all the given data as well, then the port's write function is not called and the given bytes are simply copied to the port buffer. </p>

<p>References <a class="el" href="group__FunctionalObjects.html#ga56a8e4c5dfb2ed7e083cf814dcd8e1b7">_muse_port_base_t::env</a>, and <a class="el" href="group__Ports.html#gad08d8e10a2d6db19b1316989bd9ff8dd">port_flush()</a>.</p>

<p>Referenced by <a class="el" href="muse__builtins_8h.html#a6ca748027eb81912562473c47b141380">fn_generate_documentation()</a>, <a class="el" href="muse__builtin__networking_8c.html#a12401ed8c0996030be47c10fbe72dbb3">fn_http_respond()</a>, <a class="el" href="muse__builtin__continuation_8c.html#aee262daa3a38f3eea7e30e5598d57fc0">fn_top_level_handler()</a>, <a class="el" href="group__ByteArray.html#ga9e4535deef369d6d89e36e375e4ecf3a">fn_with_bytes_as_port()</a>, <a class="el" href="group__PortIO.html#ga1e609c18047e7fcd3bfb12bf012c5145">fn_write_xml()</a>, <a class="el" href="muse__platform_8h.html#ab420cd73ce4ac799a66f96f051a31fd9">muse_assert_failed()</a>, <a class="el" href="group__Ports.html#ga3957e3213103755d4ee4569c5ed32126">port_putchar()</a>, <a class="el" href="group__ByteArray.html#gaad5e3a01ff9cb7b4f79709d96efe2c6d">port_write_force()</a>, and <a class="el" href="muse__builtin__continuation_8c.html#a81b1862006d751ec36fcb0de16951dd1">print_handler_choices()</a>.</p>

</div>
</div>
<a class="anchor" id="gababd833a4264594f574b5fb7fdcb37cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MUSEAPI <a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a> muse_pread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__muse__port__base__t.html">muse_port_t</a>&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the next symbolic expression at the current stream position, ignoring white space and comment lines. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>The port from which the expression is to be read. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="group__FunctionalObjects.html#ga56a8e4c5dfb2ed7e083cf814dcd8e1b7">_muse_port_base_t::env</a>, <a class="el" href="group__Ports.html#gad07cebdfef9218bd38fa332ef2008be2">ez_skip_whitespace()</a>, <a class="el" href="group__MuseAPI.html#gga99a6fcb4727b48a74b6ad1f9d821381ea08d34b1e7e78214eb52d4379152ae107">MUSE_ENABLE_OBJC</a>, <a class="el" href="group__MuseAPI.html#gafa6f83554ab1865d2df3bb642b399b66">muse_message()</a>, <a class="el" href="group__MuseAPI.html#gga71b858b1a2cd474be8f987d0271f1890a691eefc496b45215c8ff94a59de008c3">MUSE_NIL</a>, <a class="el" href="group__MuseAPI.html#gga4cacdd3763ca0ed2861411836c2d3875aab2984909802911de55bea02919c9994">MUSE_PORT_EZSCHEME</a>, <a class="el" href="group__MuseAPI.html#gga4cacdd3763ca0ed2861411836c2d3875adf3b2df1f30d0e0cbdaaa84852508121">MUSE_PORT_READ_EXPAND_BRACES</a>, <a class="el" href="group__MuseAPI.html#ga5f798991587017096d24ae10a70e553e">muse_pread()</a>, <a class="el" href="group__MuseAPI.html#ga5d49337ef93b232c68554350a1fe9120">muse_quote()</a>, <a class="el" href="group__Ports.html#ga550b00cbbe54e9d8d86593f2756258be">port_eof()</a>, <a class="el" href="group__Ports.html#ga0ddcaab8423f19fca0aa6fbb56e3be7c">port_getc()</a>, and <a class="el" href="group__Ports.html#ga5de7a0c15b24fea5ce4701ae07907653">port_ungetc()</a>.</p>

<p>Referenced by <a class="el" href="group__PortIO.html#ga21e62bebf5c63eb51fabfb4121e772b2">fn_read()</a>, <a class="el" href="muse__builtin__continuation_8c.html#aee262daa3a38f3eea7e30e5598d57fc0">fn_top_level_handler()</a>, <a class="el" href="group__MuseAPI.html#ga57e552c1e259fdf9c2417f8b637111ab">muse_pload()</a>, <a class="el" href="group__Ports.html#gababd833a4264594f574b5fb7fdcb37cc">muse_pread()</a>, and <a class="el" href="group__MuseAPI.html#ga77d63ec7a21a79d24743cd1dbce34772">muse_repl()</a>.</p>

</div>
</div>
<a class="anchor" id="ga13f9823eddf8a7ce04dae8d24506917e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MUSEAPI void muse_pwrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__muse__port__base__t.html">muse_port_t</a>&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>sexpr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes the given s-expression to the given stream. </p>
<p>If the expression contains only basic objects such as numbers, lists and symbols, then output of write is suitable to read back by <code><a class="el" href="group__MuseAPI.html#ga5f798991587017096d24ae10a70e553e" title="Reads the next symbolic expression at the current stream position, ignoring white space and comment l...">muse_pread()</a></code>. Otherwise, the only difference between write and print is that write encloses strings in quotes and print doesn't. </p>

<p>Referenced by <a class="el" href="group__Networking.html#ga5968a701526fe7bc85ffc54a741f3fa3">fn_reply()</a>, <a class="el" href="muse__builtin__continuation_8c.html#aee262daa3a38f3eea7e30e5598d57fc0">fn_top_level_handler()</a>, <a class="el" href="group__PortIO.html#gadc99cf562f996e26e47d055b5c456222">fn_write()</a>, and <a class="el" href="muse__builtin__continuation_8c.html#a81b1862006d751ec36fcb0de16951dd1">print_handler_choices()</a>.</p>

</div>
</div>
<a class="anchor" id="ga8665ccb146ded03de15f3cdcdb241f91"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MUSEAPI <a class="el" href="struct__muse__port__base__t.html">muse_port_t</a> muse_port </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga93436fada5a32eee71ac3391b225a0d2">muse_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MuseAPI.html#ga965ab909826d7eb8043c4cac792555ec">muse_cell</a>&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Takes a muSE port represented as a cell and returns the internal port object that it uses. </p>
<p>If the given thing is not a port, then it returns NULL. </p>

<p>Referenced by <a class="el" href="muse__builtin__networking_8c.html#a12401ed8c0996030be47c10fbe72dbb3">fn_http_respond()</a>, <a class="el" href="group__PortIO.html#ga9f055caa8cb431a24bb03d8fdb7e57c2">fn_load()</a>, <a class="el" href="group__Crypto.html#ga69086906938644e1109a085a3017c612">fn_md5_hash()</a>, <a class="el" href="group__PortIO.html#gabf61de100e833fe76ac7029b1f6d0230">fn_read_json()</a>, <a class="el" href="group__Crypto.html#ga1986a70ec8bbb26d2426118badaa5bfa">fn_sha1_hash()</a>, and <a class="el" href="group__PortIO.html#gad279620db34a8d1055531730840159ea">fn_write_json()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jan 11 2013 12:39:27 for muSE by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3
</small></address>
</body>
</html>
